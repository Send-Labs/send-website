"use strict";(self.webpackChunkapp1=self.webpackChunkapp1||[]).push([[408],{95851:function(Ue,ue,R){R.d(ue,{i:function(){return O}});const O="abi/5.7.0"},84243:function(Ue,ue,R){R.d(ue,{R:function(){return T},$:function(){return D}});var O=R(16441),C=R(6881),S=R(1581),ne=R(95851),N=R(61184),b=R(19485);class re extends N.XI{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,o){try{o=(0,b.getAddress)(o)}catch(i){this._throwError(i.message,o)}return t.writeValue(o)}decode(t){return(0,b.getAddress)((0,O.hexZeroPad)(t.readValue().toHexString(),20))}}class m extends N.XI{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,o){return this.coder.encode(t,o)}decode(t){return this.coder.decode(t)}}const ee=new S.Logger(ne.i);function G(E,t,o){let i=null;if(Array.isArray(o))i=o;else if(o&&typeof o=="object"){let g={};i=t.map(v=>{const x=v.localName;return x||ee.throwError("cannot encode object for signature with missing names",S.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:v,value:o}),g[x]&&ee.throwError("cannot encode object for signature with duplicate names",S.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:v,value:o}),g[x]=!0,o[x]})}else ee.throwArgumentError("invalid tuple value","tuple",o);t.length!==i.length&&ee.throwArgumentError("types/value length mismatch","tuple",o);let l=new N.QV(E.wordSize),u=new N.QV(E.wordSize),c=[];t.forEach((g,v)=>{let x=i[v];if(g.dynamic){let j=u.length;g.encode(u,x);let Y=l.writeUpdatableValue();c.push(F=>{Y(F+j)})}else g.encode(l,x)}),c.forEach(g=>{g(l.length)});let f=E.appendWriter(l);return f+=E.appendWriter(u),f}function $(E,t){let o=[],i=E.subReader(0);t.forEach(u=>{let c=null;if(u.dynamic){let f=E.readValue(),g=i.subReader(f.toNumber());try{c=u.decode(g)}catch(v){if(v.code===S.Logger.errors.BUFFER_OVERRUN)throw v;c=v,c.baseType=u.name,c.name=u.localName,c.type=u.type}}else try{c=u.decode(E)}catch(f){if(f.code===S.Logger.errors.BUFFER_OVERRUN)throw f;c=f,c.baseType=u.name,c.name=u.localName,c.type=u.type}c!=null&&o.push(c)});const l=t.reduce((u,c)=>{const f=c.localName;return f&&(u[f]||(u[f]=0),u[f]++),u},{});t.forEach((u,c)=>{let f=u.localName;if(!f||l[f]!==1||(f==="length"&&(f="_length"),o[f]!=null))return;const g=o[c];g instanceof Error?Object.defineProperty(o,f,{enumerable:!0,get:()=>{throw g}}):o[f]=g});for(let u=0;u<o.length;u++){const c=o[u];c instanceof Error&&Object.defineProperty(o,u,{enumerable:!0,get:()=>{throw c}})}return Object.freeze(o)}class k extends N.XI{constructor(t,o,i){const l=t.type+"["+(o>=0?o:"")+"]",u=o===-1||t.dynamic;super("array",l,i,u),this.coder=t,this.length=o}defaultValue(){const t=this.coder.defaultValue(),o=[];for(let i=0;i<this.length;i++)o.push(t);return o}encode(t,o){Array.isArray(o)||this._throwError("expected array value",o);let i=this.length;i===-1&&(i=o.length,t.writeValue(o.length)),ee.checkArgumentCount(o.length,i,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let u=0;u<o.length;u++)l.push(this.coder);return G(t,l,o)}decode(t){let o=this.length;o===-1&&(o=t.readValue().toNumber(),o*32>t._data.length&&ee.throwError("insufficient data length",S.Logger.errors.BUFFER_OVERRUN,{length:t._data.length,count:o}));let i=[];for(let l=0;l<o;l++)i.push(new m(this.coder));return t.coerce(this.name,$(t,i))}}class P extends N.XI{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,o){return t.writeValue(o?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class V extends N.XI{constructor(t,o){super(t,t,o,!0)}defaultValue(){return"0x"}encode(t,o){o=(0,O.arrayify)(o);let i=t.writeValue(o.length);return i+=t.writeBytes(o),i}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class W extends V{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,(0,O.hexlify)(super.decode(t)))}}class X extends N.XI{constructor(t,o){let i="bytes"+String(t);super(i,i,o,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,o){let i=(0,O.arrayify)(o);return i.length!==this.size&&this._throwError("incorrect data length",o),t.writeBytes(i)}decode(t){return t.coerce(this.name,(0,O.hexlify)(t.readBytes(this.size)))}}class Q extends N.XI{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,o){return o!=null&&this._throwError("not null",o),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}var he=R(2593),ie=R(21046);class h extends N.XI{constructor(t,o,i){const l=(o?"int":"uint")+t*8;super(l,l,i,!1),this.size=t,this.signed=o}defaultValue(){return 0}encode(t,o){let i=he.O$.from(o),l=ie.Bz.mask(t.wordSize*8);if(this.signed){let u=l.mask(this.size*8-1);(i.gt(u)||i.lt(u.add(ie.fh).mul(ie.tL)))&&this._throwError("value out-of-bounds",o)}else(i.lt(ie._Y)||i.gt(l.mask(this.size*8)))&&this._throwError("value out-of-bounds",o);return i=i.toTwos(this.size*8).mask(this.size*8),this.signed&&(i=i.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(i)}decode(t){let o=t.readValue().mask(this.size*8);return this.signed&&(o=o.fromTwos(this.size*8)),t.coerce(this.name,o)}}var _=R(29251);class w extends V{constructor(t){super("string",t)}defaultValue(){return""}encode(t,o){return super.encode(t,(0,_.Y0)(o))}decode(t){return(0,_.ZN)(super.decode(t))}}class y extends N.XI{constructor(t,o){let i=!1;const l=[];t.forEach(c=>{c.dynamic&&(i=!0),l.push(c.type)});const u="tuple("+l.join(",")+")";super("tuple",u,o,i),this.coders=t}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const o=this.coders.reduce((i,l)=>{const u=l.localName;return u&&(i[u]||(i[u]=0),i[u]++),i},{});return this.coders.forEach((i,l)=>{let u=i.localName;!u||o[u]!==1||(u==="length"&&(u="_length"),t[u]==null&&(t[u]=t[l]))}),Object.freeze(t)}encode(t,o){return G(t,this.coders,o)}decode(t){return t.coerce(this.name,$(t,this.coders))}}var I=R(11388);const M=new S.Logger(ne.i),K=new RegExp(/^bytes([0-9]*)$/),te=new RegExp(/^(u?int)([0-9]*)$/);class T{constructor(t){(0,C.defineReadOnly)(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new re(t.name);case"bool":return new P(t.name);case"string":return new w(t.name);case"bytes":return new W(t.name);case"array":return new k(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new y((t.components||[]).map(i=>this._getCoder(i)),t.name);case"":return new Q(t.name)}let o=t.type.match(te);if(o){let i=parseInt(o[2]||"256");return(i===0||i>256||i%8!==0)&&M.throwArgumentError("invalid "+o[1]+" bit length","param",t),new h(i/8,o[1]==="int",t.name)}if(o=t.type.match(K),o){let i=parseInt(o[1]);return(i===0||i>32)&&M.throwArgumentError("invalid bytes length","param",t),new X(i,t.name)}return M.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,o){return new N.Ej(t,this._getWordSize(),this.coerceFunc,o)}_getWriter(){return new N.QV(this._getWordSize())}getDefaultValue(t){const o=t.map(l=>this._getCoder(I._R.from(l)));return new y(o,"_").defaultValue()}encode(t,o){t.length!==o.length&&M.throwError("types/values length mismatch",S.Logger.errors.INVALID_ARGUMENT,{count:{types:t.length,values:o.length},value:{types:t,values:o}});const i=t.map(c=>this._getCoder(I._R.from(c))),l=new y(i,"_"),u=this._getWriter();return l.encode(u,o),u.data}decode(t,o,i){const l=t.map(c=>this._getCoder(I._R.from(c)));return new y(l,"_").decode(this._getReader((0,O.arrayify)(o),i))}}const D=new T},61184:function(Ue,ue,R){R.d(ue,{BR:function(){return re},Ej:function(){return G},QV:function(){return ee},XI:function(){return m}});var O=R(16441),C=R(2593),S=R(6881),ne=R(1581),N=R(95851);const b=new ne.Logger(N.i);function re($){const k=[],P=function(V,W){if(!!Array.isArray(W))for(let X in W){const Q=V.slice();Q.push(X);try{P(Q,W[X])}catch(he){k.push({path:Q,error:he})}}};return P([],$),k}class m{constructor(k,P,V,W){this.name=k,this.type=P,this.localName=V,this.dynamic=W}_throwError(k,P){b.throwArgumentError(k,this.localName,P)}}class ee{constructor(k){(0,S.defineReadOnly)(this,"wordSize",k||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(k)}get data(){return(0,O.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(k){return this._data.push(k),this._dataLength+=k.length,k.length}appendWriter(k){return this._writeData((0,O.concat)(k._data))}writeBytes(k){let P=(0,O.arrayify)(k);const V=P.length%this.wordSize;return V&&(P=(0,O.concat)([P,this._padding.slice(V)])),this._writeData(P)}_getValue(k){let P=(0,O.arrayify)(C.O$.from(k));return P.length>this.wordSize&&b.throwError("value out-of-bounds",ne.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:P.length}),P.length%this.wordSize&&(P=(0,O.concat)([this._padding.slice(P.length%this.wordSize),P])),P}writeValue(k){return this._writeData(this._getValue(k))}writeUpdatableValue(){const k=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,P=>{this._data[k]=this._getValue(P)}}}class G{constructor(k,P,V,W){(0,S.defineReadOnly)(this,"_data",(0,O.arrayify)(k)),(0,S.defineReadOnly)(this,"wordSize",P||32),(0,S.defineReadOnly)(this,"_coerceFunc",V),(0,S.defineReadOnly)(this,"allowLoose",W),this._offset=0}get data(){return(0,O.hexlify)(this._data)}get consumed(){return this._offset}static coerce(k,P){let V=k.match("^u?int([0-9]+)$");return V&&parseInt(V[1])<=48&&(P=P.toNumber()),P}coerce(k,P){return this._coerceFunc?this._coerceFunc(k,P):G.coerce(k,P)}_peekBytes(k,P,V){let W=Math.ceil(P/this.wordSize)*this.wordSize;return this._offset+W>this._data.length&&(this.allowLoose&&V&&this._offset+P<=this._data.length?W=P:b.throwError("data out-of-bounds",ne.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+W})),this._data.slice(this._offset,this._offset+W)}subReader(k){return new G(this._data.slice(this._offset+k),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(k,P){let V=this._peekBytes(0,k,!!P);return this._offset+=V.length,V.slice(0,k)}readValue(){return C.O$.from(this.readBytes(this.wordSize))}}},11388:function(Ue,ue,R){R.d(ue,{HY:function(){return X},IC:function(){return I},QV:function(){return Q},Xg:function(){return _},YW:function(){return w},_R:function(){return V},pc:function(){return k}});var O=R(2593),C=R(6881),S=R(1581),ne=R(95851);const N=new S.Logger(ne.i),b={};let re={calldata:!0,memory:!0,storage:!0},m={calldata:!0,memory:!0};function ee(E,t){if(E==="bytes"||E==="string"){if(re[t])return!0}else if(E==="address"){if(t==="payable")return!0}else if((E.indexOf("[")>=0||E==="tuple")&&m[t])return!0;return(re[t]||t==="payable")&&N.throwArgumentError("invalid modifier","name",t),!1}function G(E,t){let o=E;function i(f){N.throwArgumentError(`unexpected character at position ${f}`,"param",E)}E=E.replace(/\s/g," ");function l(f){let g={type:"",name:"",parent:f,state:{allowType:!0}};return t&&(g.indexed=!1),g}let u={type:"",name:"",state:{allowType:!0}},c=u;for(let f=0;f<E.length;f++){let g=E[f];switch(g){case"(":c.state.allowType&&c.type===""?c.type="tuple":c.state.allowParams||i(f),c.state.allowType=!1,c.type=M(c.type),c.components=[l(c)],c=c.components[0];break;case")":delete c.state,c.name==="indexed"&&(t||i(f),c.indexed=!0,c.name=""),ee(c.type,c.name)&&(c.name=""),c.type=M(c.type);let v=c;c=c.parent,c||i(f),delete v.parent,c.state.allowParams=!1,c.state.allowName=!0,c.state.allowArray=!0;break;case",":delete c.state,c.name==="indexed"&&(t||i(f),c.indexed=!0,c.name=""),ee(c.type,c.name)&&(c.name=""),c.type=M(c.type);let x=l(c.parent);c.parent.components.push(x),delete c.parent,c=x;break;case" ":c.state.allowType&&c.type!==""&&(c.type=M(c.type),delete c.state.allowType,c.state.allowName=!0,c.state.allowParams=!0),c.state.allowName&&c.name!==""&&(c.name==="indexed"?(t||i(f),c.indexed&&i(f),c.indexed=!0,c.name=""):ee(c.type,c.name)?c.name="":c.state.allowName=!1);break;case"[":c.state.allowArray||i(f),c.type+=g,c.state.allowArray=!1,c.state.allowName=!1,c.state.readArray=!0;break;case"]":c.state.readArray||i(f),c.type+=g,c.state.readArray=!1,c.state.allowArray=!0,c.state.allowName=!0;break;default:c.state.allowType?(c.type+=g,c.state.allowParams=!0,c.state.allowArray=!0):c.state.allowName?(c.name+=g,delete c.state.allowArray):c.state.readArray?c.type+=g:i(f)}}return c.parent&&N.throwArgumentError("unexpected eof","param",E),delete u.state,c.name==="indexed"?(t||i(o.length-7),c.indexed&&i(o.length-7),c.indexed=!0,c.name=""):ee(c.type,c.name)&&(c.name=""),u.type=M(u.type),u}function $(E,t){for(let o in t)(0,C.defineReadOnly)(E,o,t[o])}const k=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),P=new RegExp(/^(.*)\[([0-9]*)\]$/);class V{constructor(t,o){t!==b&&N.throwError("use fromString",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),$(this,o);let i=this.type.match(P);i?$(this,{arrayLength:parseInt(i[2]||"-1"),arrayChildren:V.fromObject({type:i[1],components:this.components}),baseType:"array"}):$(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=k.sighash),k[t]||N.throwArgumentError("invalid format type","format",t),t===k.json){let i={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.components&&(i.components=this.components.map(l=>JSON.parse(l.format(t)))),JSON.stringify(i)}let o="";return this.baseType==="array"?(o+=this.arrayChildren.format(t),o+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==k.sighash&&(o+=this.type),o+="("+this.components.map(i=>i.format(t)).join(t===k.full?", ":",")+")"):o+=this.type,t!==k.sighash&&(this.indexed===!0&&(o+=" indexed"),t===k.full&&this.name&&(o+=" "+this.name)),o}static from(t,o){return typeof t=="string"?V.fromString(t,o):V.fromObject(t)}static fromObject(t){return V.isParamType(t)?t:new V(b,{name:t.name||null,type:M(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(V.fromObject):null})}static fromString(t,o){function i(l){return V.fromObject({name:l.name,type:l.type,indexed:l.indexed,components:l.components})}return i(G(t,!!o))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function W(E,t){return D(E).map(o=>V.fromString(o,t))}class X{constructor(t,o){t!==b&&N.throwError("use a static from method",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),$(this,o),this._isFragment=!0,Object.freeze(this)}static from(t){return X.isFragment(t)?t:typeof t=="string"?X.fromString(t):X.fromObject(t)}static fromObject(t){if(X.isFragment(t))return t;switch(t.type){case"function":return w.fromObject(t);case"event":return Q.fromObject(t);case"constructor":return _.fromObject(t);case"error":return I.fromObject(t);case"fallback":case"receive":return null}return N.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?Q.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?w.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?_.fromString(t.trim()):t.split(" ")[0]==="error"?I.fromString(t.substring(5).trim()):N.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class Q extends X{format(t){if(t||(t=k.sighash),k[t]||N.throwArgumentError("invalid format type","format",t),t===k.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});let o="";return t!==k.sighash&&(o+="event "),o+=this.name+"("+this.inputs.map(i=>i.format(t)).join(t===k.full?", ":",")+") ",t!==k.sighash&&this.anonymous&&(o+="anonymous "),o.trim()}static from(t){return typeof t=="string"?Q.fromString(t):Q.fromObject(t)}static fromObject(t){if(Q.isEventFragment(t))return t;t.type!=="event"&&N.throwArgumentError("invalid event object","value",t);const o={name:te(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(V.fromObject):[],type:"event"};return new Q(b,o)}static fromString(t){let o=t.match(T);o||N.throwArgumentError("invalid event string","value",t);let i=!1;return o[3].split(" ").forEach(l=>{switch(l.trim()){case"anonymous":i=!0;break;case"":break;default:N.warn("unknown modifier: "+l)}}),Q.fromObject({name:o[1].trim(),anonymous:i,inputs:W(o[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function he(E,t){t.gas=null;let o=E.split("@");return o.length!==1?(o.length>2&&N.throwArgumentError("invalid human-readable ABI signature","value",E),o[1].match(/^[0-9]+$/)||N.throwArgumentError("invalid human-readable ABI signature gas","value",E),t.gas=O.O$.from(o[1]),o[0]):E}function ie(E,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",E.split(" ").forEach(o=>{switch(o.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+o)}})}function h(E){let t={constant:!1,payable:!0,stateMutability:"payable"};return E.stateMutability!=null?(t.stateMutability=E.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",E.constant!=null&&!!E.constant!==t.constant&&N.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",E),t.payable=t.stateMutability==="payable",E.payable!=null&&!!E.payable!==t.payable&&N.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",E)):E.payable!=null?(t.payable=!!E.payable,E.constant==null&&!t.payable&&E.type!=="constructor"&&N.throwArgumentError("unable to determine stateMutability","value",E),t.constant=!!E.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&N.throwArgumentError("cannot have constant payable function","value",E)):E.constant!=null?(t.constant=!!E.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):E.type!=="constructor"&&N.throwArgumentError("unable to determine stateMutability","value",E),t}class _ extends X{format(t){if(t||(t=k.sighash),k[t]||N.throwArgumentError("invalid format type","format",t),t===k.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});t===k.sighash&&N.throwError("cannot format a constructor for sighash",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let o="constructor("+this.inputs.map(i=>i.format(t)).join(t===k.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(o+=this.stateMutability+" "),o.trim()}static from(t){return typeof t=="string"?_.fromString(t):_.fromObject(t)}static fromObject(t){if(_.isConstructorFragment(t))return t;t.type!=="constructor"&&N.throwArgumentError("invalid constructor object","value",t);let o=h(t);o.constant&&N.throwArgumentError("constructor cannot be constant","value",t);const i={name:null,type:t.type,inputs:t.inputs?t.inputs.map(V.fromObject):[],payable:o.payable,stateMutability:o.stateMutability,gas:t.gas?O.O$.from(t.gas):null};return new _(b,i)}static fromString(t){let o={type:"constructor"};t=he(t,o);let i=t.match(T);return(!i||i[1].trim()!=="constructor")&&N.throwArgumentError("invalid constructor string","value",t),o.inputs=W(i[2].trim(),!1),ie(i[3].trim(),o),_.fromObject(o)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class w extends _{format(t){if(t||(t=k.sighash),k[t]||N.throwArgumentError("invalid format type","format",t),t===k.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});let o="";return t!==k.sighash&&(o+="function "),o+=this.name+"("+this.inputs.map(i=>i.format(t)).join(t===k.full?", ":",")+") ",t!==k.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(o+=this.stateMutability+" "):this.constant&&(o+="view "),this.outputs&&this.outputs.length&&(o+="returns ("+this.outputs.map(i=>i.format(t)).join(", ")+") "),this.gas!=null&&(o+="@"+this.gas.toString()+" ")),o.trim()}static from(t){return typeof t=="string"?w.fromString(t):w.fromObject(t)}static fromObject(t){if(w.isFunctionFragment(t))return t;t.type!=="function"&&N.throwArgumentError("invalid function object","value",t);let o=h(t);const i={type:t.type,name:te(t.name),constant:o.constant,inputs:t.inputs?t.inputs.map(V.fromObject):[],outputs:t.outputs?t.outputs.map(V.fromObject):[],payable:o.payable,stateMutability:o.stateMutability,gas:t.gas?O.O$.from(t.gas):null};return new w(b,i)}static fromString(t){let o={type:"function"};t=he(t,o);let i=t.split(" returns ");i.length>2&&N.throwArgumentError("invalid function string","value",t);let l=i[0].match(T);if(l||N.throwArgumentError("invalid function signature","value",t),o.name=l[1].trim(),o.name&&te(o.name),o.inputs=W(l[2],!1),ie(l[3].trim(),o),i.length>1){let u=i[1].match(T);(u[1].trim()!=""||u[3].trim()!="")&&N.throwArgumentError("unexpected tokens","value",t),o.outputs=W(u[2],!1)}else o.outputs=[];return w.fromObject(o)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function y(E){const t=E.format();return(t==="Error(string)"||t==="Panic(uint256)")&&N.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",E),E}class I extends X{format(t){if(t||(t=k.sighash),k[t]||N.throwArgumentError("invalid format type","format",t),t===k.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});let o="";return t!==k.sighash&&(o+="error "),o+=this.name+"("+this.inputs.map(i=>i.format(t)).join(t===k.full?", ":",")+") ",o.trim()}static from(t){return typeof t=="string"?I.fromString(t):I.fromObject(t)}static fromObject(t){if(I.isErrorFragment(t))return t;t.type!=="error"&&N.throwArgumentError("invalid error object","value",t);const o={type:t.type,name:te(t.name),inputs:t.inputs?t.inputs.map(V.fromObject):[]};return y(new I(b,o))}static fromString(t){let o={type:"error"},i=t.match(T);return i||N.throwArgumentError("invalid error signature","value",t),o.name=i[1].trim(),o.name&&te(o.name),o.inputs=W(i[2],!1),y(I.fromObject(o))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function M(E){return E.match(/^uint($|[^1-9])/)?E="uint256"+E.substring(4):E.match(/^int($|[^1-9])/)&&(E="int256"+E.substring(3)),E}const K=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function te(E){return(!E||!E.match(K))&&N.throwArgumentError(`invalid identifier "${E}"`,"value",E),E}const T=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function D(E){E=E.trim();let t=[],o="",i=0;for(let l=0;l<E.length;l++){let u=E[l];u===","&&i===0?(t.push(o),o=""):(o+=u,u==="("?i++:u===")"&&(i--,i===-1&&N.throwArgumentError("unbalanced parenthesis","value",E)))}return o&&t.push(o),t}},8198:function(Ue,ue,R){R.d(ue,{CC:function(){return k},Hk:function(){return W},vU:function(){return he},vk:function(){return P}});var O=R(19485),C=R(2593),S=R(16441),ne=R(32046),N=R(38197),b=R(6881),re=R(84243),m=R(11388),ee=R(1581),G=R(95851);const $=new ee.Logger(G.i);class k extends b.Description{}class P extends b.Description{}class V extends b.Description{}class W extends b.Description{static isIndexed(h){return!!(h&&h._isIndexed)}}const X={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Q(ie,h){const _=new Error(`deferred error during ABI decoding triggered accessing ${ie}`);return _.error=h,_}class he{constructor(h){let _=[];typeof h=="string"?_=JSON.parse(h):_=h,(0,b.defineReadOnly)(this,"fragments",_.map(w=>m.HY.from(w)).filter(w=>w!=null)),(0,b.defineReadOnly)(this,"_abiCoder",(0,b.getStatic)(new.target,"getAbiCoder")()),(0,b.defineReadOnly)(this,"functions",{}),(0,b.defineReadOnly)(this,"errors",{}),(0,b.defineReadOnly)(this,"events",{}),(0,b.defineReadOnly)(this,"structs",{}),this.fragments.forEach(w=>{let y=null;switch(w.type){case"constructor":if(this.deploy){$.warn("duplicate definition - constructor");return}(0,b.defineReadOnly)(this,"deploy",w);return;case"function":y=this.functions;break;case"event":y=this.events;break;case"error":y=this.errors;break;default:return}let I=w.format();if(y[I]){$.warn("duplicate definition - "+I);return}y[I]=w}),this.deploy||(0,b.defineReadOnly)(this,"deploy",m.Xg.from({payable:!1,type:"constructor"})),(0,b.defineReadOnly)(this,"_isInterface",!0)}format(h){h||(h=m.pc.full),h===m.pc.sighash&&$.throwArgumentError("interface does not support formatting sighash","format",h);const _=this.fragments.map(w=>w.format(h));return h===m.pc.json?JSON.stringify(_.map(w=>JSON.parse(w))):_}static getAbiCoder(){return re.$}static getAddress(h){return(0,O.getAddress)(h)}static getSighash(h){return(0,S.hexDataSlice)((0,ne.id)(h.format()),0,4)}static getEventTopic(h){return(0,ne.id)(h.format())}getFunction(h){if((0,S.isHexString)(h)){for(const w in this.functions)if(h===this.getSighash(w))return this.functions[w];$.throwArgumentError("no matching function","sighash",h)}if(h.indexOf("(")===-1){const w=h.trim(),y=Object.keys(this.functions).filter(I=>I.split("(")[0]===w);return y.length===0?$.throwArgumentError("no matching function","name",w):y.length>1&&$.throwArgumentError("multiple matching functions","name",w),this.functions[y[0]]}const _=this.functions[m.YW.fromString(h).format()];return _||$.throwArgumentError("no matching function","signature",h),_}getEvent(h){if((0,S.isHexString)(h)){const w=h.toLowerCase();for(const y in this.events)if(w===this.getEventTopic(y))return this.events[y];$.throwArgumentError("no matching event","topichash",w)}if(h.indexOf("(")===-1){const w=h.trim(),y=Object.keys(this.events).filter(I=>I.split("(")[0]===w);return y.length===0?$.throwArgumentError("no matching event","name",w):y.length>1&&$.throwArgumentError("multiple matching events","name",w),this.events[y[0]]}const _=this.events[m.QV.fromString(h).format()];return _||$.throwArgumentError("no matching event","signature",h),_}getError(h){if((0,S.isHexString)(h)){const w=(0,b.getStatic)(this.constructor,"getSighash");for(const y in this.errors){const I=this.errors[y];if(h===w(I))return this.errors[y]}$.throwArgumentError("no matching error","sighash",h)}if(h.indexOf("(")===-1){const w=h.trim(),y=Object.keys(this.errors).filter(I=>I.split("(")[0]===w);return y.length===0?$.throwArgumentError("no matching error","name",w):y.length>1&&$.throwArgumentError("multiple matching errors","name",w),this.errors[y[0]]}const _=this.errors[m.YW.fromString(h).format()];return _||$.throwArgumentError("no matching error","signature",h),_}getSighash(h){if(typeof h=="string")try{h=this.getFunction(h)}catch(_){try{h=this.getError(h)}catch{throw _}}return(0,b.getStatic)(this.constructor,"getSighash")(h)}getEventTopic(h){return typeof h=="string"&&(h=this.getEvent(h)),(0,b.getStatic)(this.constructor,"getEventTopic")(h)}_decodeParams(h,_){return this._abiCoder.decode(h,_)}_encodeParams(h,_){return this._abiCoder.encode(h,_)}encodeDeploy(h){return this._encodeParams(this.deploy.inputs,h||[])}decodeErrorResult(h,_){typeof h=="string"&&(h=this.getError(h));const w=(0,S.arrayify)(_);return(0,S.hexlify)(w.slice(0,4))!==this.getSighash(h)&&$.throwArgumentError(`data signature does not match error ${h.name}.`,"data",(0,S.hexlify)(w)),this._decodeParams(h.inputs,w.slice(4))}encodeErrorResult(h,_){return typeof h=="string"&&(h=this.getError(h)),(0,S.hexlify)((0,S.concat)([this.getSighash(h),this._encodeParams(h.inputs,_||[])]))}decodeFunctionData(h,_){typeof h=="string"&&(h=this.getFunction(h));const w=(0,S.arrayify)(_);return(0,S.hexlify)(w.slice(0,4))!==this.getSighash(h)&&$.throwArgumentError(`data signature does not match function ${h.name}.`,"data",(0,S.hexlify)(w)),this._decodeParams(h.inputs,w.slice(4))}encodeFunctionData(h,_){return typeof h=="string"&&(h=this.getFunction(h)),(0,S.hexlify)((0,S.concat)([this.getSighash(h),this._encodeParams(h.inputs,_||[])]))}decodeFunctionResult(h,_){typeof h=="string"&&(h=this.getFunction(h));let w=(0,S.arrayify)(_),y=null,I="",M=null,K=null,te=null;switch(w.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(h.outputs,w)}catch{}break;case 4:{const T=(0,S.hexlify)(w.slice(0,4)),D=X[T];if(D)M=this._abiCoder.decode(D.inputs,w.slice(4)),K=D.name,te=D.signature,D.reason&&(y=M[0]),K==="Error"?I=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(M[0])}`:K==="Panic"&&(I=`; VM Exception while processing transaction: reverted with panic code ${M[0]}`);else try{const E=this.getError(T);M=this._abiCoder.decode(E.inputs,w.slice(4)),K=E.name,te=E.format()}catch{}break}}return $.throwError("call revert exception"+I,ee.Logger.errors.CALL_EXCEPTION,{method:h.format(),data:(0,S.hexlify)(_),errorArgs:M,errorName:K,errorSignature:te,reason:y})}encodeFunctionResult(h,_){return typeof h=="string"&&(h=this.getFunction(h)),(0,S.hexlify)(this._abiCoder.encode(h.outputs,_||[]))}encodeFilterTopics(h,_){typeof h=="string"&&(h=this.getEvent(h)),_.length>h.inputs.length&&$.throwError("too many arguments for "+h.format(),ee.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:_});let w=[];h.anonymous||w.push(this.getEventTopic(h));const y=(I,M)=>I.type==="string"?(0,ne.id)(M):I.type==="bytes"?(0,N.keccak256)((0,S.hexlify)(M)):(I.type==="bool"&&typeof M=="boolean"&&(M=M?"0x01":"0x00"),I.type.match(/^u?int/)&&(M=C.O$.from(M).toHexString()),I.type==="address"&&this._abiCoder.encode(["address"],[M]),(0,S.hexZeroPad)((0,S.hexlify)(M),32));for(_.forEach((I,M)=>{let K=h.inputs[M];if(!K.indexed){I!=null&&$.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+K.name,I);return}I==null?w.push(null):K.baseType==="array"||K.baseType==="tuple"?$.throwArgumentError("filtering with tuples or arrays not supported","contract."+K.name,I):Array.isArray(I)?w.push(I.map(te=>y(K,te))):w.push(y(K,I))});w.length&&w[w.length-1]===null;)w.pop();return w}encodeEventLog(h,_){typeof h=="string"&&(h=this.getEvent(h));const w=[],y=[],I=[];return h.anonymous||w.push(this.getEventTopic(h)),_.length!==h.inputs.length&&$.throwArgumentError("event arguments/values mismatch","values",_),h.inputs.forEach((M,K)=>{const te=_[K];if(M.indexed)if(M.type==="string")w.push((0,ne.id)(te));else if(M.type==="bytes")w.push((0,N.keccak256)(te));else{if(M.baseType==="tuple"||M.baseType==="array")throw new Error("not implemented");w.push(this._abiCoder.encode([M.type],[te]))}else y.push(M),I.push(te)}),{data:this._abiCoder.encode(y,I),topics:w}}decodeEventLog(h,_,w){if(typeof h=="string"&&(h=this.getEvent(h)),w!=null&&!h.anonymous){let t=this.getEventTopic(h);(!(0,S.isHexString)(w[0],32)||w[0].toLowerCase()!==t)&&$.throwError("fragment/topic mismatch",ee.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:w[0]}),w=w.slice(1)}let y=[],I=[],M=[];h.inputs.forEach((t,o)=>{t.indexed?t.type==="string"||t.type==="bytes"||t.baseType==="tuple"||t.baseType==="array"?(y.push(m._R.fromObject({type:"bytes32",name:t.name})),M.push(!0)):(y.push(t),M.push(!1)):(I.push(t),M.push(!1))});let K=w!=null?this._abiCoder.decode(y,(0,S.concat)(w)):null,te=this._abiCoder.decode(I,_,!0),T=[],D=0,E=0;h.inputs.forEach((t,o)=>{if(t.indexed)if(K==null)T[o]=new W({_isIndexed:!0,hash:null});else if(M[o])T[o]=new W({_isIndexed:!0,hash:K[E++]});else try{T[o]=K[E++]}catch(i){T[o]=i}else try{T[o]=te[D++]}catch(i){T[o]=i}if(t.name&&T[t.name]==null){const i=T[o];i instanceof Error?Object.defineProperty(T,t.name,{enumerable:!0,get:()=>{throw Q(`property ${JSON.stringify(t.name)}`,i)}}):T[t.name]=i}});for(let t=0;t<T.length;t++){const o=T[t];o instanceof Error&&Object.defineProperty(T,t,{enumerable:!0,get:()=>{throw Q(`index ${t}`,o)}})}return Object.freeze(T)}parseTransaction(h){let _=this.getFunction(h.data.substring(0,10).toLowerCase());return _?new P({args:this._abiCoder.decode(_.inputs,"0x"+h.data.substring(10)),functionFragment:_,name:_.name,signature:_.format(),sighash:this.getSighash(_),value:C.O$.from(h.value||"0")}):null}parseLog(h){let _=this.getEvent(h.topics[0]);return!_||_.anonymous?null:new k({eventFragment:_,name:_.name,signature:_.format(),topic:this.getEventTopic(_),args:this.decodeEventLog(_,h.data,h.topics)})}parseError(h){const _=(0,S.hexlify)(h);let w=this.getError(_.substring(0,10).toLowerCase());return w?new V({args:this._abiCoder.decode(w.inputs,"0x"+_.substring(10)),errorFragment:w,name:w.name,signature:w.format(),sighash:this.getSighash(w)}):null}static isInterface(h){return!!(h&&h._isInterface)}}},64146:function(Ue,ue,R){R.d(ue,{CH:function(){return E}});var O=R(61184),C=R(8198),S=R(81556),ne=R(48088),N=R(19485),b=R(2593),re=R(16441),m=R(6881),ee=R(83875),G=R(1581);const $="contracts/5.7.0";var k=function(o,i,l,u){function c(f){return f instanceof l?f:new l(function(g){g(f)})}return new(l||(l=Promise))(function(f,g){function v(Y){try{j(u.next(Y))}catch(F){g(F)}}function x(Y){try{j(u.throw(Y))}catch(F){g(F)}}function j(Y){Y.done?f(Y.value):c(Y.value).then(v,x)}j((u=u.apply(o,i||[])).next())})};const P=new G.Logger($),V={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function W(o,i){return k(this,void 0,void 0,function*(){const l=yield i;typeof l!="string"&&P.throwArgumentError("invalid address or ENS name","name",l);try{return(0,N.getAddress)(l)}catch{}o||P.throwError("a provider or signer is needed to resolve ENS names",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const u=yield o.resolveName(l);return u==null&&P.throwArgumentError("resolver or addr is not configured for ENS name","name",l),u})}function X(o,i,l){return k(this,void 0,void 0,function*(){return Array.isArray(l)?yield Promise.all(l.map((u,c)=>X(o,Array.isArray(i)?i[c]:i[u.name],u))):l.type==="address"?yield W(o,i):l.type==="tuple"?yield X(o,i,l.components):l.baseType==="array"?Array.isArray(i)?yield Promise.all(i.map(u=>X(o,u,l.arrayChildren))):Promise.reject(P.makeError("invalid value for array",G.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:i})):i})}function Q(o,i,l){return k(this,void 0,void 0,function*(){let u={};l.length===i.inputs.length+1&&typeof l[l.length-1]=="object"&&(u=(0,m.shallowCopy)(l.pop())),P.checkArgumentCount(l.length,i.inputs.length,"passed to contract"),o.signer?u.from?u.from=(0,m.resolveProperties)({override:W(o.signer,u.from),signer:o.signer.getAddress()}).then(j=>k(this,void 0,void 0,function*(){return(0,N.getAddress)(j.signer)!==j.override&&P.throwError("Contract with a Signer cannot override from",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),j.override})):u.from=o.signer.getAddress():u.from&&(u.from=W(o.provider,u.from));const c=yield(0,m.resolveProperties)({args:X(o.signer||o.provider,l,i.inputs),address:o.resolvedAddress,overrides:(0,m.resolveProperties)(u)||{}}),f=o.interface.encodeFunctionData(i,c.args),g={data:f,to:c.address},v=c.overrides;if(v.nonce!=null&&(g.nonce=b.O$.from(v.nonce).toNumber()),v.gasLimit!=null&&(g.gasLimit=b.O$.from(v.gasLimit)),v.gasPrice!=null&&(g.gasPrice=b.O$.from(v.gasPrice)),v.maxFeePerGas!=null&&(g.maxFeePerGas=b.O$.from(v.maxFeePerGas)),v.maxPriorityFeePerGas!=null&&(g.maxPriorityFeePerGas=b.O$.from(v.maxPriorityFeePerGas)),v.from!=null&&(g.from=v.from),v.type!=null&&(g.type=v.type),v.accessList!=null&&(g.accessList=(0,ee.accessListify)(v.accessList)),g.gasLimit==null&&i.gas!=null){let j=21e3;const Y=(0,re.arrayify)(f);for(let F=0;F<Y.length;F++)j+=4,Y[F]&&(j+=64);g.gasLimit=b.O$.from(i.gas).add(j)}if(v.value){const j=b.O$.from(v.value);!j.isZero()&&!i.payable&&P.throwError("non-payable method cannot override value",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:u.value}),g.value=j}v.customData&&(g.customData=(0,m.shallowCopy)(v.customData)),v.ccipReadEnabled&&(g.ccipReadEnabled=!!v.ccipReadEnabled),delete u.nonce,delete u.gasLimit,delete u.gasPrice,delete u.from,delete u.value,delete u.type,delete u.accessList,delete u.maxFeePerGas,delete u.maxPriorityFeePerGas,delete u.customData,delete u.ccipReadEnabled;const x=Object.keys(u).filter(j=>u[j]!=null);return x.length&&P.throwError(`cannot override ${x.map(j=>JSON.stringify(j)).join(",")}`,G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:x}),g})}function he(o,i){return function(...l){return Q(o,i,l)}}function ie(o,i){const l=o.signer||o.provider;return function(...u){return k(this,void 0,void 0,function*(){l||P.throwError("estimate require a provider or signer",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const c=yield Q(o,i,u);return yield l.estimateGas(c)})}}function h(o,i){const l=i.wait.bind(i);i.wait=u=>l(u).then(c=>(c.events=c.logs.map(f=>{let g=(0,m.deepCopy)(f),v=null;try{v=o.interface.parseLog(f)}catch{}return v&&(g.args=v.args,g.decode=(x,j)=>o.interface.decodeEventLog(v.eventFragment,x,j),g.event=v.name,g.eventSignature=v.signature),g.removeListener=()=>o.provider,g.getBlock=()=>o.provider.getBlock(c.blockHash),g.getTransaction=()=>o.provider.getTransaction(c.transactionHash),g.getTransactionReceipt=()=>Promise.resolve(c),g}),c))}function _(o,i,l){const u=o.signer||o.provider;return function(...c){return k(this,void 0,void 0,function*(){let f;if(c.length===i.inputs.length+1&&typeof c[c.length-1]=="object"){const x=(0,m.shallowCopy)(c.pop());x.blockTag!=null&&(f=yield x.blockTag),delete x.blockTag,c.push(x)}o.deployTransaction!=null&&(yield o._deployed(f));const g=yield Q(o,i,c),v=yield u.call(g,f);try{let x=o.interface.decodeFunctionResult(i,v);return l&&i.outputs.length===1&&(x=x[0]),x}catch(x){throw x.code===G.Logger.errors.CALL_EXCEPTION&&(x.address=o.address,x.args=c,x.transaction=g),x}})}}function w(o,i){return function(...l){return k(this,void 0,void 0,function*(){o.signer||P.throwError("sending a transaction requires a signer",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),o.deployTransaction!=null&&(yield o._deployed());const u=yield Q(o,i,l),c=yield o.signer.sendTransaction(u);return h(o,c),c})}}function y(o,i,l){return i.constant?_(o,i,l):w(o,i)}function I(o){return o.address&&(o.topics==null||o.topics.length===0)?"*":(o.address||"*")+"@"+(o.topics?o.topics.map(i=>Array.isArray(i)?i.join("|"):i).join(":"):"")}class M{constructor(i,l){(0,m.defineReadOnly)(this,"tag",i),(0,m.defineReadOnly)(this,"filter",l),this._listeners=[]}addListener(i,l){this._listeners.push({listener:i,once:l})}removeListener(i){let l=!1;this._listeners=this._listeners.filter(u=>l||u.listener!==i?!0:(l=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(i=>i.listener)}listenerCount(){return this._listeners.length}run(i){const l=this.listenerCount();return this._listeners=this._listeners.filter(u=>{const c=i.slice();return setTimeout(()=>{u.listener.apply(this,c)},0),!u.once}),l}prepareEvent(i){}getEmit(i){return[i]}}class K extends M{constructor(){super("error",null)}}class te extends M{constructor(i,l,u,c){const f={address:i};let g=l.getEventTopic(u);c?(g!==c[0]&&P.throwArgumentError("topic mismatch","topics",c),f.topics=c.slice()):f.topics=[g],super(I(f),f),(0,m.defineReadOnly)(this,"address",i),(0,m.defineReadOnly)(this,"interface",l),(0,m.defineReadOnly)(this,"fragment",u)}prepareEvent(i){super.prepareEvent(i),i.event=this.fragment.name,i.eventSignature=this.fragment.format(),i.decode=(l,u)=>this.interface.decodeEventLog(this.fragment,l,u);try{i.args=this.interface.decodeEventLog(this.fragment,i.data,i.topics)}catch(l){i.args=null,i.decodeError=l}}getEmit(i){const l=(0,O.BR)(i.args);if(l.length)throw l[0].error;const u=(i.args||[]).slice();return u.push(i),u}}class T extends M{constructor(i,l){super("*",{address:i}),(0,m.defineReadOnly)(this,"address",i),(0,m.defineReadOnly)(this,"interface",l)}prepareEvent(i){super.prepareEvent(i);try{const l=this.interface.parseLog(i);i.event=l.name,i.eventSignature=l.signature,i.decode=(u,c)=>this.interface.decodeEventLog(l.eventFragment,u,c),i.args=l.args}catch{}}}class D{constructor(i,l,u){(0,m.defineReadOnly)(this,"interface",(0,m.getStatic)(new.target,"getInterface")(l)),u==null?((0,m.defineReadOnly)(this,"provider",null),(0,m.defineReadOnly)(this,"signer",null)):ne.E.isSigner(u)?((0,m.defineReadOnly)(this,"provider",u.provider||null),(0,m.defineReadOnly)(this,"signer",u)):S.zt.isProvider(u)?((0,m.defineReadOnly)(this,"provider",u),(0,m.defineReadOnly)(this,"signer",null)):P.throwArgumentError("invalid signer or provider","signerOrProvider",u),(0,m.defineReadOnly)(this,"callStatic",{}),(0,m.defineReadOnly)(this,"estimateGas",{}),(0,m.defineReadOnly)(this,"functions",{}),(0,m.defineReadOnly)(this,"populateTransaction",{}),(0,m.defineReadOnly)(this,"filters",{});{const g={};Object.keys(this.interface.events).forEach(v=>{const x=this.interface.events[v];(0,m.defineReadOnly)(this.filters,v,(...j)=>({address:this.address,topics:this.interface.encodeFilterTopics(x,j)})),g[x.name]||(g[x.name]=[]),g[x.name].push(v)}),Object.keys(g).forEach(v=>{const x=g[v];x.length===1?(0,m.defineReadOnly)(this.filters,v,this.filters[x[0]]):P.warn(`Duplicate definition of ${v} (${x.join(", ")})`)})}if((0,m.defineReadOnly)(this,"_runningEvents",{}),(0,m.defineReadOnly)(this,"_wrappedEmits",{}),i==null&&P.throwArgumentError("invalid contract address or ENS name","addressOrName",i),(0,m.defineReadOnly)(this,"address",i),this.provider)(0,m.defineReadOnly)(this,"resolvedAddress",W(this.provider,i));else try{(0,m.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,N.getAddress)(i)))}catch{P.throwError("provider is required to use ENS name as contract address",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(g=>{});const c={},f={};Object.keys(this.interface.functions).forEach(g=>{const v=this.interface.functions[g];if(f[g]){P.warn(`Duplicate ABI entry for ${JSON.stringify(g)}`);return}f[g]=!0;{const x=v.name;c[`%${x}`]||(c[`%${x}`]=[]),c[`%${x}`].push(g)}this[g]==null&&(0,m.defineReadOnly)(this,g,y(this,v,!0)),this.functions[g]==null&&(0,m.defineReadOnly)(this.functions,g,y(this,v,!1)),this.callStatic[g]==null&&(0,m.defineReadOnly)(this.callStatic,g,_(this,v,!0)),this.populateTransaction[g]==null&&(0,m.defineReadOnly)(this.populateTransaction,g,he(this,v)),this.estimateGas[g]==null&&(0,m.defineReadOnly)(this.estimateGas,g,ie(this,v))}),Object.keys(c).forEach(g=>{const v=c[g];if(v.length>1)return;g=g.substring(1);const x=v[0];try{this[g]==null&&(0,m.defineReadOnly)(this,g,this[x])}catch{}this.functions[g]==null&&(0,m.defineReadOnly)(this.functions,g,this.functions[x]),this.callStatic[g]==null&&(0,m.defineReadOnly)(this.callStatic,g,this.callStatic[x]),this.populateTransaction[g]==null&&(0,m.defineReadOnly)(this.populateTransaction,g,this.populateTransaction[x]),this.estimateGas[g]==null&&(0,m.defineReadOnly)(this.estimateGas,g,this.estimateGas[x])})}static getContractAddress(i){return(0,N.getContractAddress)(i)}static getInterface(i){return C.vU.isInterface(i)?i:new C.vU(i)}deployed(){return this._deployed()}_deployed(i){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,i).then(l=>(l==="0x"&&P.throwError("contract not deployed",G.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(i){this.signer||P.throwError("sending a transactions require a signer",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const l=(0,m.shallowCopy)(i||{});return["from","to"].forEach(function(u){l[u]!=null&&P.throwError("cannot override "+u,G.Logger.errors.UNSUPPORTED_OPERATION,{operation:u})}),l.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(l))}connect(i){typeof i=="string"&&(i=new ne.b(i,this.provider));const l=new this.constructor(this.address,this.interface,i);return this.deployTransaction&&(0,m.defineReadOnly)(l,"deployTransaction",this.deployTransaction),l}attach(i){return new this.constructor(i,this.interface,this.signer||this.provider)}static isIndexed(i){return C.Hk.isIndexed(i)}_normalizeRunningEvent(i){return this._runningEvents[i.tag]?this._runningEvents[i.tag]:i}_getRunningEvent(i){if(typeof i=="string"){if(i==="error")return this._normalizeRunningEvent(new K);if(i==="event")return this._normalizeRunningEvent(new M("event",null));if(i==="*")return this._normalizeRunningEvent(new T(this.address,this.interface));const l=this.interface.getEvent(i);return this._normalizeRunningEvent(new te(this.address,this.interface,l))}if(i.topics&&i.topics.length>0){try{const u=i.topics[0];if(typeof u!="string")throw new Error("invalid topic");const c=this.interface.getEvent(u);return this._normalizeRunningEvent(new te(this.address,this.interface,c,i.topics))}catch{}const l={address:this.address,topics:i.topics};return this._normalizeRunningEvent(new M(I(l),l))}return this._normalizeRunningEvent(new T(this.address,this.interface))}_checkRunningEvents(i){if(i.listenerCount()===0){delete this._runningEvents[i.tag];const l=this._wrappedEmits[i.tag];l&&i.filter&&(this.provider.off(i.filter,l),delete this._wrappedEmits[i.tag])}}_wrapEvent(i,l,u){const c=(0,m.deepCopy)(l);return c.removeListener=()=>{!u||(i.removeListener(u),this._checkRunningEvents(i))},c.getBlock=()=>this.provider.getBlock(l.blockHash),c.getTransaction=()=>this.provider.getTransaction(l.transactionHash),c.getTransactionReceipt=()=>this.provider.getTransactionReceipt(l.transactionHash),i.prepareEvent(c),c}_addEventListener(i,l,u){if(this.provider||P.throwError("events require a provider or a signer with a provider",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),i.addListener(l,u),this._runningEvents[i.tag]=i,!this._wrappedEmits[i.tag]){const c=f=>{let g=this._wrapEvent(i,f,l);if(g.decodeError==null)try{const v=i.getEmit(g);this.emit(i.filter,...v)}catch(v){g.decodeError=v.error}i.filter!=null&&this.emit("event",g),g.decodeError!=null&&this.emit("error",g.decodeError,g)};this._wrappedEmits[i.tag]=c,i.filter!=null&&this.provider.on(i.filter,c)}}queryFilter(i,l,u){const c=this._getRunningEvent(i),f=(0,m.shallowCopy)(c.filter);return typeof l=="string"&&(0,re.isHexString)(l,32)?(u!=null&&P.throwArgumentError("cannot specify toBlock with blockhash","toBlock",u),f.blockHash=l):(f.fromBlock=l??0,f.toBlock=u??"latest"),this.provider.getLogs(f).then(g=>g.map(v=>this._wrapEvent(c,v,null)))}on(i,l){return this._addEventListener(this._getRunningEvent(i),l,!1),this}once(i,l){return this._addEventListener(this._getRunningEvent(i),l,!0),this}emit(i,...l){if(!this.provider)return!1;const u=this._getRunningEvent(i),c=u.run(l)>0;return this._checkRunningEvents(u),c}listenerCount(i){return this.provider?i==null?Object.keys(this._runningEvents).reduce((l,u)=>l+this._runningEvents[u].listenerCount(),0):this._getRunningEvent(i).listenerCount():0}listeners(i){if(!this.provider)return[];if(i==null){const l=[];for(let u in this._runningEvents)this._runningEvents[u].listeners().forEach(c=>{l.push(c)});return l}return this._getRunningEvent(i).listeners()}removeAllListeners(i){if(!this.provider)return this;if(i==null){for(const u in this._runningEvents){const c=this._runningEvents[u];c.removeAllListeners(),this._checkRunningEvents(c)}return this}const l=this._getRunningEvent(i);return l.removeAllListeners(),this._checkRunningEvents(l),this}off(i,l){if(!this.provider)return this;const u=this._getRunningEvent(i);return u.removeListener(l),this._checkRunningEvents(u),this}removeListener(i,l){return this.off(i,l)}}class E extends D{}class t{constructor(i,l,u){let c=null;typeof l=="string"?c=l:isBytes(l)?c=hexlify(l):l&&typeof l.object=="string"?c=l.object:c="!",c.substring(0,2)!=="0x"&&(c="0x"+c),(!isHexString(c)||c.length%2)&&P.throwArgumentError("invalid bytecode","bytecode",l),u&&!Signer.isSigner(u)&&P.throwArgumentError("invalid signer","signer",u),defineReadOnly(this,"bytecode",c),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(i)),defineReadOnly(this,"signer",u||null)}getDeployTransaction(...i){let l={};if(i.length===this.interface.deploy.inputs.length+1&&typeof i[i.length-1]=="object"){l=shallowCopy(i.pop());for(const u in l)if(!V[u])throw new Error("unknown transaction override "+u)}return["data","from","to"].forEach(u=>{l[u]!=null&&P.throwError("cannot override "+u,Logger.errors.UNSUPPORTED_OPERATION,{operation:u})}),l.value&&!BigNumber.from(l.value).isZero()&&!this.interface.deploy.payable&&P.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:l.value}),P.checkArgumentCount(i.length,this.interface.deploy.inputs.length," in Contract constructor"),l.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(i)])),l}deploy(...i){return k(this,void 0,void 0,function*(){let l={};i.length===this.interface.deploy.inputs.length+1&&(l=i.pop()),P.checkArgumentCount(i.length,this.interface.deploy.inputs.length," in Contract constructor");const u=yield X(this.signer,i,this.interface.deploy.inputs);u.push(l);const c=this.getDeployTransaction(...u),f=yield this.signer.sendTransaction(c),g=getStatic(this.constructor,"getContractAddress")(f),v=getStatic(this.constructor,"getContract")(g,this.interface,this.signer);return h(v,f),defineReadOnly(v,"deployTransaction",f),v})}attach(i){return this.constructor.getContract(i,this.interface,this.signer)}connect(i){return new this.constructor(this.interface,this.bytecode,i)}static fromSolidity(i,l){i==null&&P.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof i=="string"&&(i=JSON.parse(i));const u=i.abi;let c=null;return i.bytecode?c=i.bytecode:i.evm&&i.evm.bytecode&&(c=i.evm.bytecode),new this(u,c,l)}static getInterface(i){return E.getInterface(i)}static getContractAddress(i){return getContractAddress(i)}static getContract(i,l,u){return new E(i,l,u)}}},38483:function(Ue,ue,R){R.d(ue,{Q:function(){return je}});var O=R(6881),C=R(1581);const S="providers/5.7.1";var ne=R(48088),N=R(2593),b=R(16441),re=R(67827),m=R(29251),ee=R(83875),G=R(37707),$=R(81556),k=R(59567),P=R(57727),V=R(57218),W=R(27586),X=R(45710),Q=R(2006),he=R(92882),ie=R.n(he),h=R(19485),_=R(9279);const w=new C.Logger(S);class y{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),s=this.blockTag.bind(this),a=this.data.bind(this),d=this.hash.bind(this),L=this.hex.bind(this),A=this.number.bind(this),B=this.type.bind(this),U=H=>this.data(H,!0);return e.transaction={hash:d,type:B,accessList:y.allowNull(this.accessList.bind(this),null),blockHash:y.allowNull(d,null),blockNumber:y.allowNull(A,null),transactionIndex:y.allowNull(A,null),confirmations:y.allowNull(A,null),from:r,gasPrice:y.allowNull(n),maxPriorityFeePerGas:y.allowNull(n),maxFeePerGas:y.allowNull(n),gasLimit:n,to:y.allowNull(r,null),value:n,nonce:A,data:a,r:y.allowNull(this.uint256),s:y.allowNull(this.uint256),v:y.allowNull(A),creates:y.allowNull(r,null),raw:y.allowNull(a)},e.transactionRequest={from:y.allowNull(r),nonce:y.allowNull(A),gasLimit:y.allowNull(n),gasPrice:y.allowNull(n),maxPriorityFeePerGas:y.allowNull(n),maxFeePerGas:y.allowNull(n),to:y.allowNull(r),value:y.allowNull(n),data:y.allowNull(U),type:y.allowNull(A),accessList:y.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:A,blockNumber:A,transactionHash:d,address:r,topics:y.arrayOf(d),data:a,logIndex:A,blockHash:d},e.receipt={to:y.allowNull(this.address,null),from:y.allowNull(this.address,null),contractAddress:y.allowNull(r,null),transactionIndex:A,root:y.allowNull(L),gasUsed:n,logsBloom:y.allowNull(a),blockHash:d,transactionHash:d,logs:y.arrayOf(this.receiptLog.bind(this)),blockNumber:A,confirmations:y.allowNull(A,null),cumulativeGasUsed:n,effectiveGasPrice:y.allowNull(n),status:y.allowNull(A),type:B},e.block={hash:y.allowNull(d),parentHash:d,number:A,timestamp:A,nonce:y.allowNull(L),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:y.allowNull(r),extraData:a,transactions:y.allowNull(y.arrayOf(d)),baseFeePerGas:y.allowNull(n)},e.blockWithTransactions=(0,O.shallowCopy)(e.block),e.blockWithTransactions.transactions=y.allowNull(y.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:y.allowNull(s,void 0),toBlock:y.allowNull(s,void 0),blockHash:y.allowNull(d,void 0),address:y.allowNull(r,void 0),topics:y.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:y.allowNull(A),blockHash:y.allowNull(d),transactionIndex:A,removed:y.allowNull(this.boolean.bind(this)),address:r,data:y.allowFalsish(a,"0x"),topics:y.arrayOf(d),transactionHash:d,logIndex:A},e}accessList(e){return(0,ee.accessListify)(e||[])}number(e){return e==="0x"?0:N.O$.from(e).toNumber()}type(e){return e==="0x"||e==null?0:N.O$.from(e).toNumber()}bigNumber(e){return N.O$.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),(0,b.isHexString)(e))?e.toLowerCase():w.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return(0,h.getAddress)(e)}callAddress(e){if(!(0,b.isHexString)(e,32))return null;const r=(0,h.getAddress)((0,b.hexDataSlice)(e,12));return r===_.d?null:r}contractAddress(e){return(0,h.getContractAddress)(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||(0,b.isHexString)(e))return(0,b.hexValue)(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return(0,b.hexDataLength)(n)!==32?w.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=N.O$.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!(0,b.isHexString)(e))throw new Error("invalid uint256");return(0,b.hexZeroPad)(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,s=y.check(r,e);return s._difficulty=n==null?null:N.O$.from(n),s}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return y.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&N.O$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=y.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;(0,b.isHexString)(n)&&(n=N.O$.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),(0,b.isHexString)(n)&&(n=N.O$.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return(0,ee.parse)(e)}receiptLog(e){return y.check(this.formats.receiptLog,e)}receipt(e){const r=y.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=N.O$.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&w.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):w.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&w.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return y.check(this.formats.filter,e)}filterLog(e){return y.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const s in e)try{const a=e[s](r[s]);a!==void 0&&(n[s]=a)}catch(a){throw a.checkKey=s,a.checkValue=r[s],a}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(s){n.push(e(s))}),n}}}function I(p){return p&&typeof p.isCommunityResource=="function"}function M(p){return I(p)&&p.isCommunityResource()}let K=!1;function te(){K||(K=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var T=function(p,e,r,n){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function L(U){try{B(n.next(U))}catch(H){d(H)}}function A(U){try{B(n.throw(U))}catch(H){d(H)}}function B(U){U.done?a(U.value):s(U.value).then(L,A)}B((n=n.apply(p,e||[])).next())})};const D=new C.Logger(S),E=10;function t(p){return p==null?"null":((0,b.hexDataLength)(p)!==32&&D.throwArgumentError("invalid topic","topic",p),p.toLowerCase())}function o(p){for(p=p.slice();p.length>0&&p[p.length-1]==null;)p.pop();return p.map(e=>{if(Array.isArray(e)){const r={};e.forEach(s=>{r[t(s)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return t(e)}).join("&")}function i(p){return p===""?[]:p.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function l(p){if(typeof p=="string"){if(p=p.toLowerCase(),(0,b.hexDataLength)(p)===32)return"tx:"+p;if(p.indexOf(":")===-1)return p}else{if(Array.isArray(p))return"filter:*:"+o(p);if($.Sg.isForkEvent(p))throw D.warn("not implemented"),new Error("not implemented");if(p&&typeof p=="object")return"filter:"+(p.address||"*")+":"+o(p.topics||[])}throw new Error("invalid event - "+p)}function u(){return new Date().getTime()}function c(p){return new Promise(e=>{setTimeout(e,p)})}const f=["block","network","pending","poll"];class g{constructor(e,r,n){(0,O.defineReadOnly)(this,"tag",e),(0,O.defineReadOnly)(this,"listener",r),(0,O.defineReadOnly)(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=i(e[2]),s={};return n.length>0&&(s.topics=n),r&&r!=="*"&&(s.address=r),s}pollable(){return this.tag.indexOf(":")>=0||f.indexOf(this.tag)>=0}}const v={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function x(p){return(0,b.hexZeroPad)(N.O$.from(p).toHexString(),32)}function j(p){return P.Base58.encode((0,b.concat)([p,(0,b.hexDataSlice)((0,Q.JQ)((0,Q.JQ)(p)),0,4)]))}const Y=new RegExp("^(ipfs)://(.*)$","i"),F=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Y,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function oe(p,e){try{return(0,m.ZN)(ae(p,e))}catch{}return null}function ae(p,e){if(p==="0x")return null;const r=N.O$.from((0,b.hexDataSlice)(p,e,e+32)).toNumber(),n=N.O$.from((0,b.hexDataSlice)(p,r,r+32)).toNumber();return(0,b.hexDataSlice)(p,r+32,r+32+n)}function ve(p){return p.match(/^ipfs:\/\/ipfs\//i)?p=p.substring(12):p.match(/^ipfs:\/\//i)?p=p.substring(7):D.throwArgumentError("unsupported IPFS format","link",p),`https://gateway.ipfs.io/ipfs/${p}`}function be(p){const e=(0,b.arrayify)(p);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Ie(p){if(p.length%32===0)return p;const e=new Uint8Array(Math.ceil(p.length/32)*32);return e.set(p),e}function xe(p){const e=[];let r=0;for(let n=0;n<p.length;n++)e.push(null),r+=32;for(let n=0;n<p.length;n++){const s=(0,b.arrayify)(p[n]);e[n]=be(r),e.push(be(s.length)),e.push(Ie(s)),r+=32+Math.ceil(s.length/32)*32}return(0,b.hexConcat)(e)}class De{constructor(e,r,n,s){(0,O.defineReadOnly)(this,"provider",e),(0,O.defineReadOnly)(this,"name",n),(0,O.defineReadOnly)(this,"address",e.formatter.address(r)),(0,O.defineReadOnly)(this,"_resolvedAddress",s)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>N.O$.from(e).eq(1)).catch(e=>{if(e.code===C.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return T(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:(0,b.hexConcat)([e,(0,W.VM)(this.name),r||"0x"])};let s=!1;(yield this.supportsWildcard())&&(s=!0,n.data=(0,b.hexConcat)(["0x9061b923",xe([(0,W.Kn)(this.name),n.data])]));try{let a=yield this.provider.call(n);return(0,b.arrayify)(a).length%32===4&&D.throwError("resolver threw error",C.Logger.errors.CALL_EXCEPTION,{transaction:n,data:a}),s&&(a=ae(a,0)),a}catch(a){if(a.code===C.Logger.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,r){return T(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?ae(n,0):null})}_getAddress(e,r){const n=v[String(e)];if(n==null&&D.throwError(`unsupported coin type: ${e}`,C.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const s=(0,b.arrayify)(r);if(n.p2pkh!=null){const a=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const d=parseInt(a[1],16);if(a[2].length===d*2&&d>=1&&d<=75)return j((0,b.concat)([[n.p2pkh],"0x"+a[2]]))}}if(n.p2sh!=null){const a=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const d=parseInt(a[1],16);if(a[2].length===d*2&&d>=1&&d<=75)return j((0,b.concat)([[n.p2sh],"0x"+a[2]]))}}if(n.prefix!=null){const a=s[1];let d=s[0];if(d===0?a!==20&&a!==32&&(d=-1):d=-1,d>=0&&s.length===2+a&&a>=1&&a<=75){const L=ie().toWords(s.slice(2));return L.unshift(d),ie().encode(n.prefix,L)}}return null}getAddress(e){return T(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const s=yield this._fetch("0x3b3b57de");return s==="0x"||s===V.R?null:this.provider.formatter.callAddress(s)}catch(s){if(s.code===C.Logger.errors.CALL_EXCEPTION)return null;throw s}const r=yield this._fetchBytes("0xf1cb7e06",x(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&D.throwError("invalid or unsupported coin data",C.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return T(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<F.length;n++){const s=r.match(F[n]);if(s==null)continue;const a=s[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:ve(r)};case"erc721":case"erc1155":{const d=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:r});const L=this._resolvedAddress||(yield this.getAddress()),A=(s[2]||"").split("/");if(A.length!==2)return null;const B=yield this.provider.formatter.address(A[0]),U=(0,b.hexZeroPad)(N.O$.from(A[1]).toHexString(),32);if(a==="erc721"){const se=this.provider.formatter.callAddress(yield this.provider.call({to:B,data:(0,b.hexConcat)(["0x6352211e",U])}));if(L!==se)return null;e.push({type:"owner",content:se})}else if(a==="erc1155"){const se=N.O$.from(yield this.provider.call({to:B,data:(0,b.hexConcat)(["0x00fdd58e",(0,b.hexZeroPad)(L,32),U])}));if(se.isZero())return null;e.push({type:"balance",content:se.toString()})}const H={to:this.provider.formatter.address(A[0]),data:(0,b.hexConcat)([d,U])};let Z=oe(yield this.provider.call(H),0);if(Z==null)return null;e.push({type:"metadata-url-base",content:Z}),a==="erc1155"&&(Z=Z.replace("{id}",U.substring(2)),e.push({type:"metadata-url-expanded",content:Z})),Z.match(/^ipfs:/i)&&(Z=ve(Z)),e.push({type:"metadata-url",content:Z});const z=yield(0,G.fetchJson)(Z);if(!z)return null;e.push({type:"metadata",content:JSON.stringify(z)});let J=z.image;if(typeof J!="string")return null;if(!J.match(/^(https:\/\/|data:)/i)){if(J.match(Y)==null)return null;e.push({type:"url-ipfs",content:J}),J=ve(J)}return e.push({type:"url",content:J}),{linkage:e,url:J}}}}}catch{}return null})}getContentHash(){return T(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const d=parseInt(r[3],16);if(r[4].length===d*2)return"ipfs://"+P.Base58.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const d=parseInt(n[3],16);if(n[4].length===d*2)return"ipns://"+P.Base58.encode("0x"+n[1])}const s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&&s[1].length===32*2)return"bzz://"+s[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const d={"=":"","+":"-","/":"_"},L=(0,k.c)("0x"+a[1]).replace(/[=+\/]/g,A=>d[A]);return"sia://"+L}return D.throwError("invalid or unsupported content hash data",C.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return T(this,void 0,void 0,function*(){let r=(0,m.Y0)(e);r=(0,b.concat)([x(64),x(r.length),r]),r.length%32!==0&&(r=(0,b.concat)([r,(0,b.hexZeroPad)("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",(0,b.hexlify)(r));return n==null||n==="0x"?null:(0,m.ZN)(n)})}}let Re=null,Be=1;class Oe extends $.zt{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,O.defineReadOnly)(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=(0,O.getStatic)(new.target,"getNetwork")(e);r?((0,O.defineReadOnly)(this,"_network",r),this.emit("network",r,null)):D.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return T(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||D.throwError("no network detected",C.Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:(0,O.defineReadOnly)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return(0,G.poll)(()=>this._ready().then(e=>e,e=>{if(!(e.code===C.Logger.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Re==null&&(Re=new y),Re}static getNetwork(e){return(0,X.H)(e??"homestead")}ccipReadFetch(e,r,n){return T(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const s=e.to.toLowerCase(),a=r.toLowerCase(),d=[];for(let L=0;L<n.length;L++){const A=n[L],B=A.replace("{sender}",s).replace("{data}",a),U=A.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:s}),H=yield(0,G.fetchJson)({url:B,errorPassThrough:!0},U,(z,J)=>(z.status=J.statusCode,z));if(H.data)return H.data;const Z=H.message||"unknown error";if(H.status>=400&&H.status<500)return D.throwError(`response not found during CCIP fetch: ${Z}`,C.Logger.errors.SERVER_ERROR,{url:A,errorMessage:Z});d.push(Z)}return D.throwError(`error encountered during CCIP fetch: ${d.map(L=>JSON.stringify(L)).join(", ")}`,C.Logger.errors.SERVER_ERROR,{urls:n,errorMessages:d})})}_getInternalBlockNumber(e){return T(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const s=this._internalBlockNumber;try{const a=yield s;if(u()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===s)break}}const r=u(),n=(0,O.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(s=>null,s=>s)}).then(({blockNumber:s,networkError:a})=>{if(a)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),a;const d=u();return s=N.O$.from(s).toNumber(),s<this._maxInternalBlockNumber&&(s=this._maxInternalBlockNumber),this._maxInternalBlockNumber=s,this._setFastBlockNumber(s),{blockNumber:s,reqTime:r,respTime:d}});return this._internalBlockNumber=n,n.catch(s=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return T(this,void 0,void 0,function*(){const e=Be++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(s){this.emit("error",s);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)D.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",D.makeError("network block skew detected",C.Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let s=this._emitted.block+1;s<=n;s++)this.emit("block",s);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(s=>{if(s==="block")return;const a=this._emitted[s];a!=="pending"&&n-a>12&&delete this._emitted[s]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(s=>{switch(s.type){case"tx":{const a=s.hash;let d=this.getTransactionReceipt(a).then(L=>(!L||L.blockNumber==null||(this._emitted["t:"+a]=L.blockNumber,this.emit(a,L)),null)).catch(L=>{this.emit("error",L)});r.push(d);break}case"filter":{if(!s._inflight){s._inflight=!0,s._lastBlockNumber===-2&&(s._lastBlockNumber=n-1);const a=s.filter;a.fromBlock=s._lastBlockNumber+1,a.toBlock=n;const d=a.toBlock-this._maxFilterBlockRange;d>a.fromBlock&&(a.fromBlock=d),a.fromBlock<0&&(a.fromBlock=0);const L=this.getLogs(a).then(A=>{s._inflight=!1,A.length!==0&&A.forEach(B=>{B.blockNumber>s._lastBlockNumber&&(s._lastBlockNumber=B.blockNumber),this._emitted["b:"+B.blockHash]=B.blockNumber,this._emitted["t:"+B.transactionHash]=B.blockNumber,this.emit(a,B)})}).catch(A=>{this.emit("error",A),s._inflight=!1});r.push(L)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(s=>{this.emit("error",s)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return T(this,void 0,void 0,function*(){return D.throwError("provider does not support network detection",C.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return T(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield c(0),this._network;const n=D.makeError("underlying network changed",C.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=u();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=u(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return T(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,s){return T(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=r?a:new Promise((d,L)=>{const A=[];let B=!1;const U=function(){return B?!0:(B=!0,A.forEach(Z=>{Z()}),!1)},H=Z=>{Z.confirmations<r||U()||d(Z)};if(this.on(e,H),A.push(()=>{this.removeListener(e,H)}),s){let Z=s.startBlock,z=null;const J=se=>T(this,void 0,void 0,function*(){B||(yield c(1e3),this.getTransactionCount(s.from).then(we=>T(this,void 0,void 0,function*(){if(!B){if(we<=s.nonce)Z=se;else{{const pe=yield this.getTransaction(e);if(pe&&pe.blockNumber!=null)return}for(z==null&&(z=Z-3,z<s.startBlock&&(z=s.startBlock));z<=se;){if(B)return;const pe=yield this.getBlockWithTransactions(z);for(let ke=0;ke<pe.transactions.length;ke++){const ye=pe.transactions[ke];if(ye.hash===e)return;if(ye.from===s.from&&ye.nonce===s.nonce){if(B)return;const Ve=yield this.waitForTransaction(ye.hash,r);if(U())return;let $e="replaced";ye.data===s.data&&ye.to===s.to&&ye.value.eq(s.value)?$e="repriced":ye.data==="0x"&&ye.from===ye.to&&ye.value.isZero()&&($e="cancelled"),L(D.makeError("transaction was replaced",C.Logger.errors.TRANSACTION_REPLACED,{cancelled:$e==="replaced"||$e==="cancelled",reason:$e,replacement:this._wrapTransaction(ye),hash:e,receipt:Ve}));return}}z++}}B||this.once("block",J)}}),we=>{B||this.once("block",J)}))});if(B)return;this.once("block",J),A.push(()=>{this.removeListener("block",J)})}if(typeof n=="number"&&n>0){const Z=setTimeout(()=>{U()||L(D.makeError("timeout exceeded",C.Logger.errors.TIMEOUT,{timeout:n}))},n);Z.unref&&Z.unref(),A.push(()=>{clearTimeout(Z)})}})})}getBlockNumber(){return T(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return T(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return N.O$.from(e)}catch(r){return D.throwError("bad result from backend",C.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return T(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield(0,O.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),s=yield this.perform("getBalance",n);try{return N.O$.from(s)}catch(a){return D.throwError("bad result from backend",C.Logger.errors.SERVER_ERROR,{method:"getBalance",params:n,result:s,error:a})}})}getTransactionCount(e,r){return T(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield(0,O.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),s=yield this.perform("getTransactionCount",n);try{return N.O$.from(s).toNumber()}catch(a){return D.throwError("bad result from backend",C.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:s,error:a})}})}getCode(e,r){return T(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield(0,O.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),s=yield this.perform("getCode",n);try{return(0,b.hexlify)(s)}catch(a){return D.throwError("bad result from backend",C.Logger.errors.SERVER_ERROR,{method:"getCode",params:n,result:s,error:a})}})}getStorageAt(e,r,n){return T(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield(0,O.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(d=>(0,b.hexValue)(d))}),a=yield this.perform("getStorageAt",s);try{return(0,b.hexlify)(a)}catch(d){return D.throwError("bad result from backend",C.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:s,result:a,error:d})}})}_wrapTransaction(e,r,n){if(r!=null&&(0,b.hexDataLength)(r)!==32)throw new Error("invalid response - sendTransaction");const s=e;return r!=null&&e.hash!==r&&D.throwError("Transaction hash mismatch from Provider.sendTransaction.",C.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),s.wait=(a,d)=>T(this,void 0,void 0,function*(){a==null&&(a=1),d==null&&(d=0);let L;a!==0&&n!=null&&(L={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const A=yield this._waitForTransaction(e.hash,a,d,L);return A==null&&a===0?null:(this._emitted["t:"+e.hash]=A.blockNumber,A.status===0&&D.throwError("transaction failed",C.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:A}),A)}),s}sendTransaction(e){return T(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(a=>(0,b.hexlify)(a)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const s=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,a,s)}catch(a){throw a.transaction=n,a.transactionHash=n.hash,a}})}_getTransactionRequest(e){return T(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a?N.O$.from(a):null))}),["type"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a?(0,b.hexlify)(a):null))}),this.formatter.transactionRequest(yield(0,O.resolveProperties)(n))})}_getFilter(e){return T(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield(0,O.resolveProperties)(r))})}_call(e,r,n){return T(this,void 0,void 0,function*(){n>=E&&D.throwError("CCIP read exceeded maximum redirections",C.Logger.errors.SERVER_ERROR,{redirects:n,transaction:e});const s=e.to,a=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&s!=null&&a.substring(0,10)==="0x556f1830"&&(0,b.hexDataLength)(a)%32===4)try{const d=(0,b.hexDataSlice)(a,4),L=(0,b.hexDataSlice)(d,0,32);N.O$.from(L).eq(s)||D.throwError("CCIP Read sender did not match",C.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const A=[],B=N.O$.from((0,b.hexDataSlice)(d,32,64)).toNumber(),U=N.O$.from((0,b.hexDataSlice)(d,B,B+32)).toNumber(),H=(0,b.hexDataSlice)(d,B+32);for(let pe=0;pe<U;pe++){const ke=oe(H,pe*32);ke==null&&D.throwError("CCIP Read contained corrupt URL string",C.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),A.push(ke)}const Z=ae(d,64);N.O$.from((0,b.hexDataSlice)(d,100,128)).isZero()||D.throwError("CCIP Read callback selector included junk",C.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const z=(0,b.hexDataSlice)(d,96,100),J=ae(d,128),se=yield this.ccipReadFetch(e,Z,A);se==null&&D.throwError("CCIP Read disabled or provided no URLs",C.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const we={to:s,data:(0,b.hexConcat)([z,xe([se,J])])};return this._call(we,r,n+1)}catch(d){if(d.code===C.Logger.errors.SERVER_ERROR)throw d}try{return(0,b.hexlify)(a)}catch(d){return D.throwError("bad result from backend",C.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:a,error:d})}})}call(e,r){return T(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield(0,O.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return T(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield(0,O.resolveProperties)({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return N.O$.from(n)}catch(s){return D.throwError("bad result from backend",C.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:s})}})}_getAddress(e){return T(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&D.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&D.throwError("ENS name not configured",C.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return T(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const s={includeTransactions:!!r};if((0,b.isHexString)(e,32))s.blockHash=e;else try{s.blockTag=yield this._getBlockTag(e),(0,b.isHexString)(s.blockTag)&&(n=parseInt(s.blockTag.substring(2),16))}catch{D.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,G.poll)(()=>T(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",s);if(a==null)return s.blockHash!=null&&this._emitted["b:"+s.blockHash]==null||s.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let d=null;for(let A=0;A<a.transactions.length;A++){const B=a.transactions[A];if(B.blockNumber==null)B.confirmations=0;else if(B.confirmations==null){d==null&&(d=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let U=d-B.blockNumber+1;U<=0&&(U=1),B.confirmations=U}}const L=this.formatter.blockWithTransactions(a);return L.transactions=L.transactions.map(A=>this._wrapTransaction(A)),L}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return T(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return(0,G.poll)(()=>T(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const s=this.formatter.transactionResponse(n);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let d=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;d<=0&&(d=1),s.confirmations=d}return this._wrapTransaction(s)}),{oncePoll:this})})}getTransactionReceipt(e){return T(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return(0,G.poll)(()=>T(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const s=this.formatter.receipt(n);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let d=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;d<=0&&(d=1),s.confirmations=d}return s}),{oncePoll:this})})}getLogs(e){return T(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield(0,O.resolveProperties)({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(s=>{s.removed==null&&(s.removed=!1)}),y.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return T(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return T(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&D.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return T(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const s=new De(this,n,e);return r!==e&&!(yield s.supportsWildcard())?null:s}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return T(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||D.throwError("network does not support ENS",C.Logger.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const s=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+(0,W.VM)(e).substring(2)});return this.formatter.callAddress(s)}catch{}return null})}resolveName(e){return T(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if((0,b.isHexString)(e))throw n}typeof e!="string"&&D.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return T(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const s=oe(yield this.call({to:n,data:"0x691f3431"+(0,W.VM)(r).substring(2)}),0);return(yield this.resolveName(s))!=e?null:s})}getAvatar(e){return T(this,void 0,void 0,function*(){let r=null;if((0,b.isHexString)(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",d=yield this._getResolver(a,"getAvatar");if(!d)return null;r=new De(this,d,a);try{const L=yield r.getAvatar();if(L)return L.url}catch(L){if(L.code!==C.Logger.errors.CALL_EXCEPTION)throw L}try{const L=oe(yield this.call({to:d,data:"0x691f3431"+(0,W.VM)(a).substring(2)}),0);r=yield this.getResolver(L)}catch(L){if(L.code!==C.Logger.errors.CALL_EXCEPTION)throw L;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return D.throwError(e+" not implemented",C.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const s=new g(l(e),r,n);return this._events.push(s),this._startEvent(s),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,s=[],a=l(e);return this._events=this._events.filter(d=>d.tag!==a?!0:(setTimeout(()=>{d.listener.apply(this,r)},0),n=!0,d.once?(s.push(d),!1):!0)),s.forEach(d=>{this._stopEvent(d)}),n}listenerCount(e){if(!e)return this._events.length;let r=l(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=l(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let s=!1,a=l(e);return this._events=this._events.filter(d=>d.tag!==a||d.listener!=r||s?!0:(s=!0,n.push(d),!1)),n.forEach(d=>{this._stopEvent(d)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=l(e);this._events=this._events.filter(s=>s.tag!==n?!0:(r.push(s),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var le=function(p,e,r,n){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function L(U){try{B(n.next(U))}catch(H){d(H)}}function A(U){try{B(n.throw(U))}catch(H){d(H)}}function B(U){U.done?a(U.value):s(U.value).then(L,A)}B((n=n.apply(p,e||[])).next())})};const q=new C.Logger(S),Ne=["call","estimateGas"];function ce(p,e){if(p==null)return null;if(typeof p.message=="string"&&p.message.match("reverted")){const r=(0,b.isHexString)(p.data)?p.data:null;if(!e||r)return{message:p.message,data:r}}if(typeof p=="object"){for(const r in p){const n=ce(p[r],e);if(n)return n}return null}if(typeof p=="string")try{return ce(JSON.parse(p),e)}catch{}return null}function Me(p,e,r){const n=r.transaction||r.signedTransaction;if(p==="call"){const a=ce(e,!0);if(a)return a.data;q.throwError("missing revert data in call exception; Transaction reverted without a reason string",C.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(p==="estimateGas"){let a=ce(e.body,!1);a==null&&(a=ce(e,!1)),a&&q.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",C.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:p,transaction:n,error:e})}let s=e.message;throw e.code===C.Logger.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?s=e.error.message:typeof e.body=="string"?s=e.body:typeof e.responseText=="string"&&(s=e.responseText),s=(s||"").toLowerCase(),s.match(/insufficient funds|base fee exceeds gas limit/i)&&q.throwError("insufficient funds for intrinsic transaction cost",C.Logger.errors.INSUFFICIENT_FUNDS,{error:e,method:p,transaction:n}),s.match(/nonce (is )?too low/i)&&q.throwError("nonce has already been used",C.Logger.errors.NONCE_EXPIRED,{error:e,method:p,transaction:n}),s.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&q.throwError("replacement fee too low",C.Logger.errors.REPLACEMENT_UNDERPRICED,{error:e,method:p,transaction:n}),s.match(/only replay-protected/i)&&q.throwError("legacy pre-eip-155 transactions not supported",C.Logger.errors.UNSUPPORTED_OPERATION,{error:e,method:p,transaction:n}),Ne.indexOf(p)>=0&&s.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&q.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",C.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:p,transaction:n}),e}function Pe(p){return new Promise(function(e){setTimeout(e,p)})}function Ce(p){if(p.error){const e=new Error(p.error.message);throw e.code=p.error.code,e.data=p.error.data,e}return p.result}function ge(p){return p&&p.toLowerCase()}const Te={};class Ae extends ne.E{constructor(e,r,n){if(super(),e!==Te)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,O.defineReadOnly)(this,"provider",r),n==null&&(n=0),typeof n=="string"?((0,O.defineReadOnly)(this,"_address",this.provider.formatter.address(n)),(0,O.defineReadOnly)(this,"_index",null)):typeof n=="number"?((0,O.defineReadOnly)(this,"_index",n),(0,O.defineReadOnly)(this,"_address",null)):q.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return q.throwError("cannot alter JSON-RPC Signer connection",C.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new _e(Te,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&q.throwError("unknown account #"+this._index,C.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,O.shallowCopy)(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=(0,O.shallowCopy)(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>le(this,void 0,void 0,function*(){if(n==null)return null;const s=yield this.provider.resolveName(n);return s==null&&q.throwArgumentError("provided ENS name resolves to null","tx.to",n),s}))),(0,O.resolveProperties)({tx:(0,O.resolveProperties)(e),sender:r}).then(({tx:n,sender:s})=>{n.from!=null?n.from.toLowerCase()!==s&&q.throwArgumentError("from address mismatch","transaction",e):n.from=s;const a=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(d=>d,d=>(typeof d.message=="string"&&d.message.match(/user denied/i)&&q.throwError("user rejected transaction",C.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Me("sendTransaction",d,a)))})}signTransaction(e){return q.throwError("signing transactions is unsupported",C.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return le(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield(0,G.poll)(()=>le(this,void 0,void 0,function*(){const s=yield this.provider.getTransaction(n);if(s!==null)return this.provider._wrapTransaction(s,n,r)}),{oncePoll:this.provider})}catch(s){throw s.transactionHash=n,s}})}signMessage(e){return le(this,void 0,void 0,function*(){const r=typeof e=="string"?(0,m.Y0)(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,b.hexlify)(r),n.toLowerCase()])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&q.throwError("user rejected signing",C.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),s}})}_legacySignMessage(e){return le(this,void 0,void 0,function*(){const r=typeof e=="string"?(0,m.Y0)(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),(0,b.hexlify)(r)])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&q.throwError("user rejected signing",C.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),s}})}_signTypedData(e,r,n){return le(this,void 0,void 0,function*(){const s=yield re.E.resolveNames(e,r,n,d=>this.provider.resolveName(d)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(re.E.getPayload(s.domain,r,s.value))])}catch(d){throw typeof d.message=="string"&&d.message.match(/user denied/i)&&q.throwError("user rejected signing",C.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:s.domain,types:r,value:s.value}}),d}})}unlock(e){return le(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class _e extends Ae{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const Le={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ee extends Oe{constructor(e,r){let n=r;n==null&&(n=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(d=>{s(d)},d=>{a(d)})},0)})),super(n),e||(e=(0,O.getStatic)(this.constructor,"defaultUrl")()),typeof e=="string"?(0,O.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,O.defineReadOnly)(this,"connection",Object.freeze((0,O.shallowCopy)(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return le(this,void 0,void 0,function*(){yield Pe(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=(0,O.getStatic)(this.constructor,"getNetwork");try{return r(N.O$.from(e).toNumber())}catch(n){return q.throwError("could not detect network",C.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return q.throwError("could not detect network",C.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Ae(Te,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,O.deepCopy)(n),provider:this});const s=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(s&&this._cache[e])return this._cache[e];const a=(0,G.fetchJson)(this.connection,JSON.stringify(n),Ce).then(d=>(this.emit("debug",{action:"response",request:n,response:d,provider:this}),d),d=>{throw this.emit("debug",{action:"response",error:d,request:n,provider:this}),d});return s&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ge(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ge(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ge(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ge(r.address),(0,b.hexZeroPad)(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":{const n=(0,O.getStatic)(this.constructor,"hexlifyTransaction");return["eth_call",[n(r.transaction,{from:!0}),r.blockTag]]}case"estimateGas":{const n=(0,O.getStatic)(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(r.transaction,{from:!0})]]}case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ge(r.filter.address)),["eth_getLogs",[r.filter]];default:break}return null}perform(e,r){return le(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const s=r.transaction;if(s&&s.type!=null&&N.O$.from(s.type).isZero()&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=(0,O.shallowCopy)(r),r.transaction=(0,O.shallowCopy)(s),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&q.throwError(e+" not implemented",C.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(s){return Me(e,s,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function s(){e.send("eth_getFilterChanges",[n]).then(function(a){if(e._pendingFilter!=r)return null;let d=Promise.resolve();return a.forEach(function(L){e._emitted["t:"+L.toLowerCase()]="pending",d=d.then(function(){return e.getTransaction(L).then(function(A){return e.emit("pending",A),null})})}),d.then(function(){return Pe(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){s()},0),null}).catch(a=>{})}return s(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=(0,O.shallowCopy)(Le);if(r)for(const a in r)r[a]&&(n[a]=!0);(0,O.checkProperties)(e,n);const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const d=(0,b.hexValue)(N.O$.from(e[a]));a==="gasLimit"&&(a="gas"),s[a]=d}),["from","to","data"].forEach(function(a){e[a]!=null&&(s[a]=(0,b.hexlify)(e[a]))}),e.accessList&&(s.accessList=(0,ee.accessListify)(e.accessList)),s}}const de=new C.Logger(S);let me=1;function fe(p,e){const r="Web3LegacyFetcher";return function(n,s){const a={method:n,params:s,id:me++,jsonrpc:"2.0"};return new Promise((d,L)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,O.deepCopy)(a),provider:this}),e(a,(A,B)=>{if(A)return this.emit("debug",{action:"response",fetcher:r,error:A,request:a,provider:this}),L(A);if(this.emit("debug",{action:"response",fetcher:r,request:a,response:B,provider:this}),B.error){const U=new Error(B.error.message);return U.code=B.error.code,U.data=B.error.data,L(U)}d(B.result)})})}}function Se(p){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,O.deepCopy)(n),provider:this}),p.request(n).then(s=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:s,provider:this}),s})}}class je extends Ee{constructor(e,r){e==null&&de.throwArgumentError("missing provider","provider",e);let n=null,s=null,a=null;typeof e=="function"?(n="unknown:",s=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),a=e,e.request?(n===""&&(n="eip-1193:"),s=Se(e)):e.sendAsync?s=fe(e,e.sendAsync.bind(e)):e.send?s=fe(e,e.send.bind(e)):de.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),(0,O.defineReadOnly)(this,"jsonRpcFetchFunc",s),(0,O.defineReadOnly)(this,"provider",a)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}},63463:function(Ue,ue,R){R.d(ue,{Z:function(){return c}});var O=R(87462),C=R(4942),S=R(97685),ne=R(97937),N=R(94184),b=R.n(N),re=R(1413),m=R(67294),ee=R(15471),G=R(8410),$=R(62874),k=function(g){var v=g.prefixCls,x=g.className,j=g.style,Y=g.children,F=g.containerRef;return m.createElement(m.Fragment,null,m.createElement("div",{className:b()("".concat(v,"-content"),x),style:(0,re.Z)({},j),"aria-modal":"true",role:"dialog",ref:F},Y))},P=k,V=m.createContext(null),W=V,X=R(15105),Q=R(80334);function he(f){return typeof f=="string"&&String(Number(f))===f?((0,Q.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(f)):f}function ie(f){warning(!("wrapperClassName"in f),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!f.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var h={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function _(f,g){var v,x,j,Y,F=f.prefixCls,oe=f.open,ae=f.placement,ve=f.inline,be=f.push,Ie=f.forceRender,xe=f.autoFocus,De=f.keyboard,Re=f.rootClassName,Be=f.rootStyle,Oe=f.zIndex,le=f.className,q=f.style,Ne=f.motion,ce=f.width,Me=f.height,Pe=f.children,Ce=f.contentWrapperStyle,ge=f.mask,Te=f.maskClosable,Ae=f.maskMotion,_e=f.maskClassName,Le=f.maskStyle,Ee=f.afterOpenChange,de=f.onClose,me=m.useRef(),fe=m.useRef(),Se=m.useRef();m.useImperativeHandle(g,function(){return me.current});var je=function(J){var se=J.keyCode,we=J.shiftKey;switch(se){case X.Z.TAB:{if(se===X.Z.TAB){if(!we&&document.activeElement===Se.current){var pe;(pe=fe.current)===null||pe===void 0||pe.focus({preventScroll:!0})}else if(we&&document.activeElement===fe.current){var ke;(ke=Se.current)===null||ke===void 0||ke.focus({preventScroll:!0})}}break}case X.Z.ESC:{de&&De&&(J.stopPropagation(),de(J));break}}};m.useEffect(function(){if(oe&&xe){var z;(z=me.current)===null||z===void 0||z.focus({preventScroll:!0})}},[oe]);var p=m.useState(!1),e=(0,S.Z)(p,2),r=e[0],n=e[1],s=m.useContext(W),a;be===!1?a={distance:0}:be===!0?a={}:a=be||{};var d=(v=(x=(j=a)===null||j===void 0?void 0:j.distance)!==null&&x!==void 0?x:s==null?void 0:s.pushDistance)!==null&&v!==void 0?v:180,L=m.useMemo(function(){return{pushDistance:d,push:function(){n(!0)},pull:function(){n(!1)}}},[d]);m.useEffect(function(){if(oe){var z;s==null||(z=s.push)===null||z===void 0||z.call(s)}else{var J;s==null||(J=s.pull)===null||J===void 0||J.call(s)}},[oe]),m.useEffect(function(){return function(){var z;s==null||(z=s.pull)===null||z===void 0||z.call(s)}},[]);var A=ge&&m.createElement($.Z,(0,O.Z)({key:"mask"},Ae,{visible:oe}),function(z,J){var se=z.className,we=z.style;return m.createElement("div",{className:b()("".concat(F,"-mask"),se,_e),style:(0,re.Z)((0,re.Z)({},we),Le),onClick:Te&&oe?de:void 0,ref:J})}),B=typeof Ne=="function"?Ne(ae):Ne,U={};if(r&&d)switch(ae){case"top":U.transform="translateY(".concat(d,"px)");break;case"bottom":U.transform="translateY(".concat(-d,"px)");break;case"left":U.transform="translateX(".concat(d,"px)");break;default:U.transform="translateX(".concat(-d,"px)");break}ae==="left"||ae==="right"?U.width=he(ce):U.height=he(Me);var H=m.createElement($.Z,(0,O.Z)({key:"panel"},B,{visible:oe,forceRender:Ie,onVisibleChanged:function(J){Ee==null||Ee(J)},removeOnLeave:!1,leavedClassName:"".concat(F,"-content-wrapper-hidden")}),function(z,J){var se=z.className,we=z.style;return m.createElement("div",{className:b()("".concat(F,"-content-wrapper"),se),style:(0,re.Z)((0,re.Z)((0,re.Z)({},U),we),Ce)},m.createElement(P,{containerRef:J,prefixCls:F,className:le,style:q},Pe))}),Z=(0,re.Z)({},Be);return Oe&&(Z.zIndex=Oe),m.createElement(W.Provider,{value:L},m.createElement("div",{className:b()(F,"".concat(F,"-").concat(ae),Re,(Y={},(0,C.Z)(Y,"".concat(F,"-open"),oe),(0,C.Z)(Y,"".concat(F,"-inline"),ve),Y)),style:Z,tabIndex:-1,ref:me,onKeyDown:je},A,m.createElement("div",{tabIndex:0,ref:fe,style:h,"aria-hidden":"true","data-sentinel":"start"}),H,m.createElement("div",{tabIndex:0,ref:Se,style:h,"aria-hidden":"true","data-sentinel":"end"})))}var w=m.forwardRef(_),y=w,I=function(g){var v=g.open,x=v===void 0?!1:v,j=g.prefixCls,Y=j===void 0?"rc-drawer":j,F=g.placement,oe=F===void 0?"right":F,ae=g.autoFocus,ve=ae===void 0?!0:ae,be=g.keyboard,Ie=be===void 0?!0:be,xe=g.width,De=xe===void 0?378:xe,Re=g.mask,Be=Re===void 0?!0:Re,Oe=g.maskClosable,le=Oe===void 0?!0:Oe,q=g.getContainer,Ne=g.forceRender,ce=g.afterOpenChange,Me=g.destroyOnClose,Pe=m.useState(!1),Ce=(0,S.Z)(Pe,2),ge=Ce[0],Te=Ce[1],Ae=m.useState(!1),_e=(0,S.Z)(Ae,2),Le=_e[0],Ee=_e[1];(0,G.Z)(function(){Ee(!0)},[]);var de=Le?x:!1,me=m.useRef(),fe=m.useRef();(0,G.Z)(function(){de&&(fe.current=document.activeElement)},[de]);var Se=function(e){var r;if(Te(e),ce==null||ce(e),!e&&fe.current&&!(!((r=me.current)===null||r===void 0)&&r.contains(fe.current))){var n;(n=fe.current)===null||n===void 0||n.focus()}};if(!Ne&&!ge&&!de&&Me)return null;var je=(0,re.Z)((0,re.Z)({},g),{},{open:de,prefixCls:Y,placement:oe,autoFocus:ve,keyboard:Ie,width:De,mask:Be,maskClosable:le,inline:q===!1,afterOpenChange:Se,ref:me});return m.createElement(ee.Z,{open:de||Ne||ge,autoDestroy:!1,getContainer:q,autoLock:Be&&(de||ge)},m.createElement(y,je))},M=I,K=M,te=R(53124),T=R(65223),D=R(33603),E=R(93355),t=R(4173),o=function(f,g){var v={};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&g.indexOf(x)<0&&(v[x]=f[x]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,x=Object.getOwnPropertySymbols(f);j<x.length;j++)g.indexOf(x[j])<0&&Object.prototype.propertyIsEnumerable.call(f,x[j])&&(v[x[j]]=f[x[j]]);return v},i=(0,E.b)("default","large"),l={distance:180};function u(f){var g=f.width,v=f.height,x=f.size,j=x===void 0?"default":x,Y=f.closable,F=Y===void 0?!0:Y,oe=f.mask,ae=oe===void 0?!0:oe,ve=f.push,be=ve===void 0?l:ve,Ie=f.closeIcon,xe=Ie===void 0?m.createElement(ne.Z,null):Ie,De=f.bodyStyle,Re=f.drawerStyle,Be=f.className,Oe=f.visible,le=f.open,q=f.children,Ne=f.style,ce=f.title,Me=f.headerStyle,Pe=f.onClose,Ce=f.footer,ge=f.footerStyle,Te=f.prefixCls,Ae=f.getContainer,_e=f.extra,Le=f.afterVisibleChange,Ee=f.afterOpenChange,de=o(f,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),me=m.useContext(te.E_),fe=me.getPopupContainer,Se=me.getPrefixCls,je=me.direction,p=Se("drawer",Te),e=Ae===void 0&&fe?function(){return fe(document.body)}:Ae,r=F&&m.createElement("button",{type:"button",onClick:Pe,"aria-label":"Close",className:"".concat(p,"-close")},xe);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach(function(U){var H=(0,S.Z)(U,2),Z=H[0],z=H[1]});function n(){return!ce&&!F?null:m.createElement("div",{className:b()("".concat(p,"-header"),(0,C.Z)({},"".concat(p,"-header-close-only"),F&&!ce&&!_e)),style:Me},m.createElement("div",{className:"".concat(p,"-header-title")},r,ce&&m.createElement("div",{className:"".concat(p,"-title")},ce)),_e&&m.createElement("div",{className:"".concat(p,"-extra")},_e))}function s(){if(!Ce)return null;var U="".concat(p,"-footer");return m.createElement("div",{className:U,style:ge},Ce)}var a=b()((0,C.Z)({"no-mask":!ae},"".concat(p,"-rtl"),je==="rtl"),Be),d=m.useMemo(function(){return g??(j==="large"?736:378)},[g,j]),L=m.useMemo(function(){return v??(j==="large"?736:378)},[v,j]),A={motionName:(0,D.mL)(p,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},B=function(H){return{motionName:(0,D.mL)(p,"panel-motion-".concat(H)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}};return m.createElement(t.BR,null,m.createElement(T.Ux,{status:!0,override:!0},m.createElement(K,(0,O.Z)({prefixCls:p,onClose:Pe},de,{open:le??Oe,mask:ae,push:be,width:d,height:L,rootClassName:a,getContainer:e,afterOpenChange:function(H){Ee==null||Ee(H),Le==null||Le(H)},maskMotion:A,motion:B,rootStyle:Ne}),m.createElement("div",{className:"".concat(p,"-wrapper-body"),style:(0,O.Z)({},Re)},n(),m.createElement("div",{className:"".concat(p,"-body"),style:De},q),s()))))}var c=u}}]);
