"use strict";(self.webpackChunkapp1=self.webpackChunkapp1||[]).push([[243],{95851:function(_e,le,v){v.d(le,{i:function(){return W}});const W="abi/5.7.0"},84243:function(_e,le,v){v.d(le,{R:function(){return C},$:function(){return M}});var W=v(16441),j=v(6881),y=v(1581),se=v(95851),E=v(61184),B=v(19485);class Y extends E.XI{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,s){try{s=(0,B.getAddress)(s)}catch(n){this._throwError(n.message,s)}return t.writeValue(s)}decode(t){return(0,B.getAddress)((0,W.hexZeroPad)(t.readValue().toHexString(),20))}}class m extends E.XI{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,s){return this.coder.encode(t,s)}decode(t){return this.coder.decode(t)}}const O=new y.Logger(se.i);function G(w,t,s){let n=null;if(Array.isArray(s))n=s;else if(s&&typeof s=="object"){let g={};n=t.map(k=>{const P=k.localName;return P||O.throwError("cannot encode object for signature with missing names",y.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:k,value:s}),g[P]&&O.throwError("cannot encode object for signature with duplicate names",y.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:k,value:s}),g[P]=!0,s[P]})}else O.throwArgumentError("invalid tuple value","tuple",s);t.length!==n.length&&O.throwArgumentError("types/value length mismatch","tuple",s);let l=new E.QV(w.wordSize),u=new E.QV(w.wordSize),c=[];t.forEach((g,k)=>{let P=n[k];if(g.dynamic){let $=u.length;g.encode(u,P);let ee=l.writeUpdatableValue();c.push(X=>{ee(X+$)})}else g.encode(l,P)}),c.forEach(g=>{g(l.length)});let f=w.appendWriter(l);return f+=w.appendWriter(u),f}function A(w,t){let s=[],n=w.subReader(0);t.forEach(u=>{let c=null;if(u.dynamic){let f=w.readValue(),g=n.subReader(f.toNumber());try{c=u.decode(g)}catch(k){if(k.code===y.Logger.errors.BUFFER_OVERRUN)throw k;c=k,c.baseType=u.name,c.name=u.localName,c.type=u.type}}else try{c=u.decode(w)}catch(f){if(f.code===y.Logger.errors.BUFFER_OVERRUN)throw f;c=f,c.baseType=u.name,c.name=u.localName,c.type=u.type}c!=null&&s.push(c)});const l=t.reduce((u,c)=>{const f=c.localName;return f&&(u[f]||(u[f]=0),u[f]++),u},{});t.forEach((u,c)=>{let f=u.localName;if(!f||l[f]!==1||(f==="length"&&(f="_length"),s[f]!=null))return;const g=s[c];g instanceof Error?Object.defineProperty(s,f,{enumerable:!0,get:()=>{throw g}}):s[f]=g});for(let u=0;u<s.length;u++){const c=s[u];c instanceof Error&&Object.defineProperty(s,u,{enumerable:!0,get:()=>{throw c}})}return Object.freeze(s)}class N extends E.XI{constructor(t,s,n){const l=t.type+"["+(s>=0?s:"")+"]",u=s===-1||t.dynamic;super("array",l,n,u),this.coder=t,this.length=s}defaultValue(){const t=this.coder.defaultValue(),s=[];for(let n=0;n<this.length;n++)s.push(t);return s}encode(t,s){Array.isArray(s)||this._throwError("expected array value",s);let n=this.length;n===-1&&(n=s.length,t.writeValue(s.length)),O.checkArgumentCount(s.length,n,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let u=0;u<s.length;u++)l.push(this.coder);return G(t,l,s)}decode(t){let s=this.length;s===-1&&(s=t.readValue().toNumber(),s*32>t._data.length&&O.throwError("insufficient data length",y.Logger.errors.BUFFER_OVERRUN,{length:t._data.length,count:s}));let n=[];for(let l=0;l<s;l++)n.push(new m(this.coder));return t.coerce(this.name,A(t,n))}}class _ extends E.XI{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,s){return t.writeValue(s?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class I extends E.XI{constructor(t,s){super(t,t,s,!0)}defaultValue(){return"0x"}encode(t,s){s=(0,W.arrayify)(s);let n=t.writeValue(s.length);return n+=t.writeBytes(s),n}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class V extends I{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,(0,W.hexlify)(super.decode(t)))}}class K extends E.XI{constructor(t,s){let n="bytes"+String(t);super(n,n,s,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,s){let n=(0,W.arrayify)(s);return n.length!==this.size&&this._throwError("incorrect data length",s),t.writeBytes(n)}decode(t){return t.coerce(this.name,(0,W.hexlify)(t.readBytes(this.size)))}}class J extends E.XI{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,s){return s!=null&&this._throwError("not null",s),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}var ce=v(2593),q=v(21046);class h extends E.XI{constructor(t,s,n){const l=(s?"int":"uint")+t*8;super(l,l,n,!1),this.size=t,this.signed=s}defaultValue(){return 0}encode(t,s){let n=ce.O$.from(s),l=q.Bz.mask(t.wordSize*8);if(this.signed){let u=l.mask(this.size*8-1);(n.gt(u)||n.lt(u.add(q.fh).mul(q.tL)))&&this._throwError("value out-of-bounds",s)}else(n.lt(q._Y)||n.gt(l.mask(this.size*8)))&&this._throwError("value out-of-bounds",s);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(n)}decode(t){let s=t.readValue().mask(this.size*8);return this.signed&&(s=s.fromTwos(this.size*8)),t.coerce(this.name,s)}}var x=v(29251);class R extends I{constructor(t){super("string",t)}defaultValue(){return""}encode(t,s){return super.encode(t,(0,x.Y0)(s))}decode(t){return(0,x.ZN)(super.decode(t))}}class b extends E.XI{constructor(t,s){let n=!1;const l=[];t.forEach(c=>{c.dynamic&&(n=!0),l.push(c.type)});const u="tuple("+l.join(",")+")";super("tuple",u,s,n),this.coders=t}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const s=this.coders.reduce((n,l)=>{const u=l.localName;return u&&(n[u]||(n[u]=0),n[u]++),n},{});return this.coders.forEach((n,l)=>{let u=n.localName;!u||s[u]!==1||(u==="length"&&(u="_length"),t[u]==null&&(t[u]=t[l]))}),Object.freeze(t)}encode(t,s){return G(t,this.coders,s)}decode(t){return t.coerce(this.name,A(t,this.coders))}}var D=v(11388);const U=new y.Logger(se.i),F=new RegExp(/^bytes([0-9]*)$/),ne=new RegExp(/^(u?int)([0-9]*)$/);class C{constructor(t){(0,j.defineReadOnly)(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Y(t.name);case"bool":return new _(t.name);case"string":return new R(t.name);case"bytes":return new V(t.name);case"array":return new N(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new b((t.components||[]).map(n=>this._getCoder(n)),t.name);case"":return new J(t.name)}let s=t.type.match(ne);if(s){let n=parseInt(s[2]||"256");return(n===0||n>256||n%8!==0)&&U.throwArgumentError("invalid "+s[1]+" bit length","param",t),new h(n/8,s[1]==="int",t.name)}if(s=t.type.match(F),s){let n=parseInt(s[1]);return(n===0||n>32)&&U.throwArgumentError("invalid bytes length","param",t),new K(n,t.name)}return U.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,s){return new E.Ej(t,this._getWordSize(),this.coerceFunc,s)}_getWriter(){return new E.QV(this._getWordSize())}getDefaultValue(t){const s=t.map(l=>this._getCoder(D._R.from(l)));return new b(s,"_").defaultValue()}encode(t,s){t.length!==s.length&&U.throwError("types/values length mismatch",y.Logger.errors.INVALID_ARGUMENT,{count:{types:t.length,values:s.length},value:{types:t,values:s}});const n=t.map(c=>this._getCoder(D._R.from(c))),l=new b(n,"_"),u=this._getWriter();return l.encode(u,s),u.data}decode(t,s,n){const l=t.map(c=>this._getCoder(D._R.from(c)));return new b(l,"_").decode(this._getReader((0,W.arrayify)(s),n))}}const M=new C},61184:function(_e,le,v){v.d(le,{BR:function(){return Y},Ej:function(){return G},QV:function(){return O},XI:function(){return m}});var W=v(16441),j=v(2593),y=v(6881),se=v(1581),E=v(95851);const B=new se.Logger(E.i);function Y(A){const N=[],_=function(I,V){if(!!Array.isArray(V))for(let K in V){const J=I.slice();J.push(K);try{_(J,V[K])}catch(ce){N.push({path:J,error:ce})}}};return _([],A),N}class m{constructor(N,_,I,V){this.name=N,this.type=_,this.localName=I,this.dynamic=V}_throwError(N,_){B.throwArgumentError(N,this.localName,_)}}class O{constructor(N){(0,y.defineReadOnly)(this,"wordSize",N||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(N)}get data(){return(0,W.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(N){return this._data.push(N),this._dataLength+=N.length,N.length}appendWriter(N){return this._writeData((0,W.concat)(N._data))}writeBytes(N){let _=(0,W.arrayify)(N);const I=_.length%this.wordSize;return I&&(_=(0,W.concat)([_,this._padding.slice(I)])),this._writeData(_)}_getValue(N){let _=(0,W.arrayify)(j.O$.from(N));return _.length>this.wordSize&&B.throwError("value out-of-bounds",se.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:_.length}),_.length%this.wordSize&&(_=(0,W.concat)([this._padding.slice(_.length%this.wordSize),_])),_}writeValue(N){return this._writeData(this._getValue(N))}writeUpdatableValue(){const N=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,_=>{this._data[N]=this._getValue(_)}}}class G{constructor(N,_,I,V){(0,y.defineReadOnly)(this,"_data",(0,W.arrayify)(N)),(0,y.defineReadOnly)(this,"wordSize",_||32),(0,y.defineReadOnly)(this,"_coerceFunc",I),(0,y.defineReadOnly)(this,"allowLoose",V),this._offset=0}get data(){return(0,W.hexlify)(this._data)}get consumed(){return this._offset}static coerce(N,_){let I=N.match("^u?int([0-9]+)$");return I&&parseInt(I[1])<=48&&(_=_.toNumber()),_}coerce(N,_){return this._coerceFunc?this._coerceFunc(N,_):G.coerce(N,_)}_peekBytes(N,_,I){let V=Math.ceil(_/this.wordSize)*this.wordSize;return this._offset+V>this._data.length&&(this.allowLoose&&I&&this._offset+_<=this._data.length?V=_:B.throwError("data out-of-bounds",se.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+V})),this._data.slice(this._offset,this._offset+V)}subReader(N){return new G(this._data.slice(this._offset+N),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(N,_){let I=this._peekBytes(0,N,!!_);return this._offset+=I.length,I.slice(0,N)}readValue(){return j.O$.from(this.readBytes(this.wordSize))}}},11388:function(_e,le,v){v.d(le,{HY:function(){return K},IC:function(){return D},QV:function(){return J},Xg:function(){return x},YW:function(){return R},_R:function(){return I},pc:function(){return N}});var W=v(2593),j=v(6881),y=v(1581),se=v(95851);const E=new y.Logger(se.i),B={};let Y={calldata:!0,memory:!0,storage:!0},m={calldata:!0,memory:!0};function O(w,t){if(w==="bytes"||w==="string"){if(Y[t])return!0}else if(w==="address"){if(t==="payable")return!0}else if((w.indexOf("[")>=0||w==="tuple")&&m[t])return!0;return(Y[t]||t==="payable")&&E.throwArgumentError("invalid modifier","name",t),!1}function G(w,t){let s=w;function n(f){E.throwArgumentError(`unexpected character at position ${f}`,"param",w)}w=w.replace(/\s/g," ");function l(f){let g={type:"",name:"",parent:f,state:{allowType:!0}};return t&&(g.indexed=!1),g}let u={type:"",name:"",state:{allowType:!0}},c=u;for(let f=0;f<w.length;f++){let g=w[f];switch(g){case"(":c.state.allowType&&c.type===""?c.type="tuple":c.state.allowParams||n(f),c.state.allowType=!1,c.type=U(c.type),c.components=[l(c)],c=c.components[0];break;case")":delete c.state,c.name==="indexed"&&(t||n(f),c.indexed=!0,c.name=""),O(c.type,c.name)&&(c.name=""),c.type=U(c.type);let k=c;c=c.parent,c||n(f),delete k.parent,c.state.allowParams=!1,c.state.allowName=!0,c.state.allowArray=!0;break;case",":delete c.state,c.name==="indexed"&&(t||n(f),c.indexed=!0,c.name=""),O(c.type,c.name)&&(c.name=""),c.type=U(c.type);let P=l(c.parent);c.parent.components.push(P),delete c.parent,c=P;break;case" ":c.state.allowType&&c.type!==""&&(c.type=U(c.type),delete c.state.allowType,c.state.allowName=!0,c.state.allowParams=!0),c.state.allowName&&c.name!==""&&(c.name==="indexed"?(t||n(f),c.indexed&&n(f),c.indexed=!0,c.name=""):O(c.type,c.name)?c.name="":c.state.allowName=!1);break;case"[":c.state.allowArray||n(f),c.type+=g,c.state.allowArray=!1,c.state.allowName=!1,c.state.readArray=!0;break;case"]":c.state.readArray||n(f),c.type+=g,c.state.readArray=!1,c.state.allowArray=!0,c.state.allowName=!0;break;default:c.state.allowType?(c.type+=g,c.state.allowParams=!0,c.state.allowArray=!0):c.state.allowName?(c.name+=g,delete c.state.allowArray):c.state.readArray?c.type+=g:n(f)}}return c.parent&&E.throwArgumentError("unexpected eof","param",w),delete u.state,c.name==="indexed"?(t||n(s.length-7),c.indexed&&n(s.length-7),c.indexed=!0,c.name=""):O(c.type,c.name)&&(c.name=""),u.type=U(u.type),u}function A(w,t){for(let s in t)(0,j.defineReadOnly)(w,s,t[s])}const N=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),_=new RegExp(/^(.*)\[([0-9]*)\]$/);class I{constructor(t,s){t!==B&&E.throwError("use fromString",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),A(this,s);let n=this.type.match(_);n?A(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:I.fromObject({type:n[1],components:this.components}),baseType:"array"}):A(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=N.sighash),N[t]||E.throwArgumentError("invalid format type","format",t),t===N.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(l=>JSON.parse(l.format(t)))),JSON.stringify(n)}let s="";return this.baseType==="array"?(s+=this.arrayChildren.format(t),s+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==N.sighash&&(s+=this.type),s+="("+this.components.map(n=>n.format(t)).join(t===N.full?", ":",")+")"):s+=this.type,t!==N.sighash&&(this.indexed===!0&&(s+=" indexed"),t===N.full&&this.name&&(s+=" "+this.name)),s}static from(t,s){return typeof t=="string"?I.fromString(t,s):I.fromObject(t)}static fromObject(t){return I.isParamType(t)?t:new I(B,{name:t.name||null,type:U(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(I.fromObject):null})}static fromString(t,s){function n(l){return I.fromObject({name:l.name,type:l.type,indexed:l.indexed,components:l.components})}return n(G(t,!!s))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function V(w,t){return M(w).map(s=>I.fromString(s,t))}class K{constructor(t,s){t!==B&&E.throwError("use a static from method",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),A(this,s),this._isFragment=!0,Object.freeze(this)}static from(t){return K.isFragment(t)?t:typeof t=="string"?K.fromString(t):K.fromObject(t)}static fromObject(t){if(K.isFragment(t))return t;switch(t.type){case"function":return R.fromObject(t);case"event":return J.fromObject(t);case"constructor":return x.fromObject(t);case"error":return D.fromObject(t);case"fallback":case"receive":return null}return E.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?J.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?R.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?x.fromString(t.trim()):t.split(" ")[0]==="error"?D.fromString(t.substring(5).trim()):E.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class J extends K{format(t){if(t||(t=N.sighash),N[t]||E.throwArgumentError("invalid format type","format",t),t===N.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let s="";return t!==N.sighash&&(s+="event "),s+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===N.full?", ":",")+") ",t!==N.sighash&&this.anonymous&&(s+="anonymous "),s.trim()}static from(t){return typeof t=="string"?J.fromString(t):J.fromObject(t)}static fromObject(t){if(J.isEventFragment(t))return t;t.type!=="event"&&E.throwArgumentError("invalid event object","value",t);const s={name:ne(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(I.fromObject):[],type:"event"};return new J(B,s)}static fromString(t){let s=t.match(C);s||E.throwArgumentError("invalid event string","value",t);let n=!1;return s[3].split(" ").forEach(l=>{switch(l.trim()){case"anonymous":n=!0;break;case"":break;default:E.warn("unknown modifier: "+l)}}),J.fromObject({name:s[1].trim(),anonymous:n,inputs:V(s[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function ce(w,t){t.gas=null;let s=w.split("@");return s.length!==1?(s.length>2&&E.throwArgumentError("invalid human-readable ABI signature","value",w),s[1].match(/^[0-9]+$/)||E.throwArgumentError("invalid human-readable ABI signature gas","value",w),t.gas=W.O$.from(s[1]),s[0]):w}function q(w,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",w.split(" ").forEach(s=>{switch(s.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+s)}})}function h(w){let t={constant:!1,payable:!0,stateMutability:"payable"};return w.stateMutability!=null?(t.stateMutability=w.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",w.constant!=null&&!!w.constant!==t.constant&&E.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",w),t.payable=t.stateMutability==="payable",w.payable!=null&&!!w.payable!==t.payable&&E.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",w)):w.payable!=null?(t.payable=!!w.payable,w.constant==null&&!t.payable&&w.type!=="constructor"&&E.throwArgumentError("unable to determine stateMutability","value",w),t.constant=!!w.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&E.throwArgumentError("cannot have constant payable function","value",w)):w.constant!=null?(t.constant=!!w.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):w.type!=="constructor"&&E.throwArgumentError("unable to determine stateMutability","value",w),t}class x extends K{format(t){if(t||(t=N.sighash),N[t]||E.throwArgumentError("invalid format type","format",t),t===N.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});t===N.sighash&&E.throwError("cannot format a constructor for sighash",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let s="constructor("+this.inputs.map(n=>n.format(t)).join(t===N.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(s+=this.stateMutability+" "),s.trim()}static from(t){return typeof t=="string"?x.fromString(t):x.fromObject(t)}static fromObject(t){if(x.isConstructorFragment(t))return t;t.type!=="constructor"&&E.throwArgumentError("invalid constructor object","value",t);let s=h(t);s.constant&&E.throwArgumentError("constructor cannot be constant","value",t);const n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(I.fromObject):[],payable:s.payable,stateMutability:s.stateMutability,gas:t.gas?W.O$.from(t.gas):null};return new x(B,n)}static fromString(t){let s={type:"constructor"};t=ce(t,s);let n=t.match(C);return(!n||n[1].trim()!=="constructor")&&E.throwArgumentError("invalid constructor string","value",t),s.inputs=V(n[2].trim(),!1),q(n[3].trim(),s),x.fromObject(s)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class R extends x{format(t){if(t||(t=N.sighash),N[t]||E.throwArgumentError("invalid format type","format",t),t===N.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});let s="";return t!==N.sighash&&(s+="function "),s+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===N.full?", ":",")+") ",t!==N.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(s+=this.stateMutability+" "):this.constant&&(s+="view "),this.outputs&&this.outputs.length&&(s+="returns ("+this.outputs.map(n=>n.format(t)).join(", ")+") "),this.gas!=null&&(s+="@"+this.gas.toString()+" ")),s.trim()}static from(t){return typeof t=="string"?R.fromString(t):R.fromObject(t)}static fromObject(t){if(R.isFunctionFragment(t))return t;t.type!=="function"&&E.throwArgumentError("invalid function object","value",t);let s=h(t);const n={type:t.type,name:ne(t.name),constant:s.constant,inputs:t.inputs?t.inputs.map(I.fromObject):[],outputs:t.outputs?t.outputs.map(I.fromObject):[],payable:s.payable,stateMutability:s.stateMutability,gas:t.gas?W.O$.from(t.gas):null};return new R(B,n)}static fromString(t){let s={type:"function"};t=ce(t,s);let n=t.split(" returns ");n.length>2&&E.throwArgumentError("invalid function string","value",t);let l=n[0].match(C);if(l||E.throwArgumentError("invalid function signature","value",t),s.name=l[1].trim(),s.name&&ne(s.name),s.inputs=V(l[2],!1),q(l[3].trim(),s),n.length>1){let u=n[1].match(C);(u[1].trim()!=""||u[3].trim()!="")&&E.throwArgumentError("unexpected tokens","value",t),s.outputs=V(u[2],!1)}else s.outputs=[];return R.fromObject(s)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function b(w){const t=w.format();return(t==="Error(string)"||t==="Panic(uint256)")&&E.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",w),w}class D extends K{format(t){if(t||(t=N.sighash),N[t]||E.throwArgumentError("invalid format type","format",t),t===N.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let s="";return t!==N.sighash&&(s+="error "),s+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===N.full?", ":",")+") ",s.trim()}static from(t){return typeof t=="string"?D.fromString(t):D.fromObject(t)}static fromObject(t){if(D.isErrorFragment(t))return t;t.type!=="error"&&E.throwArgumentError("invalid error object","value",t);const s={type:t.type,name:ne(t.name),inputs:t.inputs?t.inputs.map(I.fromObject):[]};return b(new D(B,s))}static fromString(t){let s={type:"error"},n=t.match(C);return n||E.throwArgumentError("invalid error signature","value",t),s.name=n[1].trim(),s.name&&ne(s.name),s.inputs=V(n[2],!1),b(D.fromObject(s))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function U(w){return w.match(/^uint($|[^1-9])/)?w="uint256"+w.substring(4):w.match(/^int($|[^1-9])/)&&(w="int256"+w.substring(3)),w}const F=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ne(w){return(!w||!w.match(F))&&E.throwArgumentError(`invalid identifier "${w}"`,"value",w),w}const C=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function M(w){w=w.trim();let t=[],s="",n=0;for(let l=0;l<w.length;l++){let u=w[l];u===","&&n===0?(t.push(s),s=""):(s+=u,u==="("?n++:u===")"&&(n--,n===-1&&E.throwArgumentError("unbalanced parenthesis","value",w)))}return s&&t.push(s),t}},8198:function(_e,le,v){v.d(le,{CC:function(){return N},Hk:function(){return V},vU:function(){return ce},vk:function(){return _}});var W=v(19485),j=v(2593),y=v(16441),se=v(32046),E=v(38197),B=v(6881),Y=v(84243),m=v(11388),O=v(1581),G=v(95851);const A=new O.Logger(G.i);class N extends B.Description{}class _ extends B.Description{}class I extends B.Description{}class V extends B.Description{static isIndexed(h){return!!(h&&h._isIndexed)}}const K={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function J(q,h){const x=new Error(`deferred error during ABI decoding triggered accessing ${q}`);return x.error=h,x}class ce{constructor(h){let x=[];typeof h=="string"?x=JSON.parse(h):x=h,(0,B.defineReadOnly)(this,"fragments",x.map(R=>m.HY.from(R)).filter(R=>R!=null)),(0,B.defineReadOnly)(this,"_abiCoder",(0,B.getStatic)(new.target,"getAbiCoder")()),(0,B.defineReadOnly)(this,"functions",{}),(0,B.defineReadOnly)(this,"errors",{}),(0,B.defineReadOnly)(this,"events",{}),(0,B.defineReadOnly)(this,"structs",{}),this.fragments.forEach(R=>{let b=null;switch(R.type){case"constructor":if(this.deploy){A.warn("duplicate definition - constructor");return}(0,B.defineReadOnly)(this,"deploy",R);return;case"function":b=this.functions;break;case"event":b=this.events;break;case"error":b=this.errors;break;default:return}let D=R.format();if(b[D]){A.warn("duplicate definition - "+D);return}b[D]=R}),this.deploy||(0,B.defineReadOnly)(this,"deploy",m.Xg.from({payable:!1,type:"constructor"})),(0,B.defineReadOnly)(this,"_isInterface",!0)}format(h){h||(h=m.pc.full),h===m.pc.sighash&&A.throwArgumentError("interface does not support formatting sighash","format",h);const x=this.fragments.map(R=>R.format(h));return h===m.pc.json?JSON.stringify(x.map(R=>JSON.parse(R))):x}static getAbiCoder(){return Y.$}static getAddress(h){return(0,W.getAddress)(h)}static getSighash(h){return(0,y.hexDataSlice)((0,se.id)(h.format()),0,4)}static getEventTopic(h){return(0,se.id)(h.format())}getFunction(h){if((0,y.isHexString)(h)){for(const R in this.functions)if(h===this.getSighash(R))return this.functions[R];A.throwArgumentError("no matching function","sighash",h)}if(h.indexOf("(")===-1){const R=h.trim(),b=Object.keys(this.functions).filter(D=>D.split("(")[0]===R);return b.length===0?A.throwArgumentError("no matching function","name",R):b.length>1&&A.throwArgumentError("multiple matching functions","name",R),this.functions[b[0]]}const x=this.functions[m.YW.fromString(h).format()];return x||A.throwArgumentError("no matching function","signature",h),x}getEvent(h){if((0,y.isHexString)(h)){const R=h.toLowerCase();for(const b in this.events)if(R===this.getEventTopic(b))return this.events[b];A.throwArgumentError("no matching event","topichash",R)}if(h.indexOf("(")===-1){const R=h.trim(),b=Object.keys(this.events).filter(D=>D.split("(")[0]===R);return b.length===0?A.throwArgumentError("no matching event","name",R):b.length>1&&A.throwArgumentError("multiple matching events","name",R),this.events[b[0]]}const x=this.events[m.QV.fromString(h).format()];return x||A.throwArgumentError("no matching event","signature",h),x}getError(h){if((0,y.isHexString)(h)){const R=(0,B.getStatic)(this.constructor,"getSighash");for(const b in this.errors){const D=this.errors[b];if(h===R(D))return this.errors[b]}A.throwArgumentError("no matching error","sighash",h)}if(h.indexOf("(")===-1){const R=h.trim(),b=Object.keys(this.errors).filter(D=>D.split("(")[0]===R);return b.length===0?A.throwArgumentError("no matching error","name",R):b.length>1&&A.throwArgumentError("multiple matching errors","name",R),this.errors[b[0]]}const x=this.errors[m.YW.fromString(h).format()];return x||A.throwArgumentError("no matching error","signature",h),x}getSighash(h){if(typeof h=="string")try{h=this.getFunction(h)}catch(x){try{h=this.getError(h)}catch{throw x}}return(0,B.getStatic)(this.constructor,"getSighash")(h)}getEventTopic(h){return typeof h=="string"&&(h=this.getEvent(h)),(0,B.getStatic)(this.constructor,"getEventTopic")(h)}_decodeParams(h,x){return this._abiCoder.decode(h,x)}_encodeParams(h,x){return this._abiCoder.encode(h,x)}encodeDeploy(h){return this._encodeParams(this.deploy.inputs,h||[])}decodeErrorResult(h,x){typeof h=="string"&&(h=this.getError(h));const R=(0,y.arrayify)(x);return(0,y.hexlify)(R.slice(0,4))!==this.getSighash(h)&&A.throwArgumentError(`data signature does not match error ${h.name}.`,"data",(0,y.hexlify)(R)),this._decodeParams(h.inputs,R.slice(4))}encodeErrorResult(h,x){return typeof h=="string"&&(h=this.getError(h)),(0,y.hexlify)((0,y.concat)([this.getSighash(h),this._encodeParams(h.inputs,x||[])]))}decodeFunctionData(h,x){typeof h=="string"&&(h=this.getFunction(h));const R=(0,y.arrayify)(x);return(0,y.hexlify)(R.slice(0,4))!==this.getSighash(h)&&A.throwArgumentError(`data signature does not match function ${h.name}.`,"data",(0,y.hexlify)(R)),this._decodeParams(h.inputs,R.slice(4))}encodeFunctionData(h,x){return typeof h=="string"&&(h=this.getFunction(h)),(0,y.hexlify)((0,y.concat)([this.getSighash(h),this._encodeParams(h.inputs,x||[])]))}decodeFunctionResult(h,x){typeof h=="string"&&(h=this.getFunction(h));let R=(0,y.arrayify)(x),b=null,D="",U=null,F=null,ne=null;switch(R.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(h.outputs,R)}catch{}break;case 4:{const C=(0,y.hexlify)(R.slice(0,4)),M=K[C];if(M)U=this._abiCoder.decode(M.inputs,R.slice(4)),F=M.name,ne=M.signature,M.reason&&(b=U[0]),F==="Error"?D=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(U[0])}`:F==="Panic"&&(D=`; VM Exception while processing transaction: reverted with panic code ${U[0]}`);else try{const w=this.getError(C);U=this._abiCoder.decode(w.inputs,R.slice(4)),F=w.name,ne=w.format()}catch{}break}}return A.throwError("call revert exception"+D,O.Logger.errors.CALL_EXCEPTION,{method:h.format(),data:(0,y.hexlify)(x),errorArgs:U,errorName:F,errorSignature:ne,reason:b})}encodeFunctionResult(h,x){return typeof h=="string"&&(h=this.getFunction(h)),(0,y.hexlify)(this._abiCoder.encode(h.outputs,x||[]))}encodeFilterTopics(h,x){typeof h=="string"&&(h=this.getEvent(h)),x.length>h.inputs.length&&A.throwError("too many arguments for "+h.format(),O.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:x});let R=[];h.anonymous||R.push(this.getEventTopic(h));const b=(D,U)=>D.type==="string"?(0,se.id)(U):D.type==="bytes"?(0,E.keccak256)((0,y.hexlify)(U)):(D.type==="bool"&&typeof U=="boolean"&&(U=U?"0x01":"0x00"),D.type.match(/^u?int/)&&(U=j.O$.from(U).toHexString()),D.type==="address"&&this._abiCoder.encode(["address"],[U]),(0,y.hexZeroPad)((0,y.hexlify)(U),32));for(x.forEach((D,U)=>{let F=h.inputs[U];if(!F.indexed){D!=null&&A.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+F.name,D);return}D==null?R.push(null):F.baseType==="array"||F.baseType==="tuple"?A.throwArgumentError("filtering with tuples or arrays not supported","contract."+F.name,D):Array.isArray(D)?R.push(D.map(ne=>b(F,ne))):R.push(b(F,D))});R.length&&R[R.length-1]===null;)R.pop();return R}encodeEventLog(h,x){typeof h=="string"&&(h=this.getEvent(h));const R=[],b=[],D=[];return h.anonymous||R.push(this.getEventTopic(h)),x.length!==h.inputs.length&&A.throwArgumentError("event arguments/values mismatch","values",x),h.inputs.forEach((U,F)=>{const ne=x[F];if(U.indexed)if(U.type==="string")R.push((0,se.id)(ne));else if(U.type==="bytes")R.push((0,E.keccak256)(ne));else{if(U.baseType==="tuple"||U.baseType==="array")throw new Error("not implemented");R.push(this._abiCoder.encode([U.type],[ne]))}else b.push(U),D.push(ne)}),{data:this._abiCoder.encode(b,D),topics:R}}decodeEventLog(h,x,R){if(typeof h=="string"&&(h=this.getEvent(h)),R!=null&&!h.anonymous){let t=this.getEventTopic(h);(!(0,y.isHexString)(R[0],32)||R[0].toLowerCase()!==t)&&A.throwError("fragment/topic mismatch",O.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:R[0]}),R=R.slice(1)}let b=[],D=[],U=[];h.inputs.forEach((t,s)=>{t.indexed?t.type==="string"||t.type==="bytes"||t.baseType==="tuple"||t.baseType==="array"?(b.push(m._R.fromObject({type:"bytes32",name:t.name})),U.push(!0)):(b.push(t),U.push(!1)):(D.push(t),U.push(!1))});let F=R!=null?this._abiCoder.decode(b,(0,y.concat)(R)):null,ne=this._abiCoder.decode(D,x,!0),C=[],M=0,w=0;h.inputs.forEach((t,s)=>{if(t.indexed)if(F==null)C[s]=new V({_isIndexed:!0,hash:null});else if(U[s])C[s]=new V({_isIndexed:!0,hash:F[w++]});else try{C[s]=F[w++]}catch(n){C[s]=n}else try{C[s]=ne[M++]}catch(n){C[s]=n}if(t.name&&C[t.name]==null){const n=C[s];n instanceof Error?Object.defineProperty(C,t.name,{enumerable:!0,get:()=>{throw J(`property ${JSON.stringify(t.name)}`,n)}}):C[t.name]=n}});for(let t=0;t<C.length;t++){const s=C[t];s instanceof Error&&Object.defineProperty(C,t,{enumerable:!0,get:()=>{throw J(`index ${t}`,s)}})}return Object.freeze(C)}parseTransaction(h){let x=this.getFunction(h.data.substring(0,10).toLowerCase());return x?new _({args:this._abiCoder.decode(x.inputs,"0x"+h.data.substring(10)),functionFragment:x,name:x.name,signature:x.format(),sighash:this.getSighash(x),value:j.O$.from(h.value||"0")}):null}parseLog(h){let x=this.getEvent(h.topics[0]);return!x||x.anonymous?null:new N({eventFragment:x,name:x.name,signature:x.format(),topic:this.getEventTopic(x),args:this.decodeEventLog(x,h.data,h.topics)})}parseError(h){const x=(0,y.hexlify)(h);let R=this.getError(x.substring(0,10).toLowerCase());return R?new I({args:this._abiCoder.decode(R.inputs,"0x"+x.substring(10)),errorFragment:R,name:R.name,signature:R.format(),sighash:this.getSighash(R)}):null}static isInterface(h){return!!(h&&h._isInterface)}}},64146:function(_e,le,v){v.d(le,{CH:function(){return w}});var W=v(61184),j=v(8198),y=v(81556),se=v(48088),E=v(19485),B=v(2593),Y=v(16441),m=v(6881),O=v(83875),G=v(1581);const A="contracts/5.7.0";var N=function(s,n,l,u){function c(f){return f instanceof l?f:new l(function(g){g(f)})}return new(l||(l=Promise))(function(f,g){function k(ee){try{$(u.next(ee))}catch(X){g(X)}}function P(ee){try{$(u.throw(ee))}catch(X){g(X)}}function $(ee){ee.done?f(ee.value):c(ee.value).then(k,P)}$((u=u.apply(s,n||[])).next())})};const _=new G.Logger(A),I={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function V(s,n){return N(this,void 0,void 0,function*(){const l=yield n;typeof l!="string"&&_.throwArgumentError("invalid address or ENS name","name",l);try{return(0,E.getAddress)(l)}catch{}s||_.throwError("a provider or signer is needed to resolve ENS names",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const u=yield s.resolveName(l);return u==null&&_.throwArgumentError("resolver or addr is not configured for ENS name","name",l),u})}function K(s,n,l){return N(this,void 0,void 0,function*(){return Array.isArray(l)?yield Promise.all(l.map((u,c)=>K(s,Array.isArray(n)?n[c]:n[u.name],u))):l.type==="address"?yield V(s,n):l.type==="tuple"?yield K(s,n,l.components):l.baseType==="array"?Array.isArray(n)?yield Promise.all(n.map(u=>K(s,u,l.arrayChildren))):Promise.reject(_.makeError("invalid value for array",G.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:n})):n})}function J(s,n,l){return N(this,void 0,void 0,function*(){let u={};l.length===n.inputs.length+1&&typeof l[l.length-1]=="object"&&(u=(0,m.shallowCopy)(l.pop())),_.checkArgumentCount(l.length,n.inputs.length,"passed to contract"),s.signer?u.from?u.from=(0,m.resolveProperties)({override:V(s.signer,u.from),signer:s.signer.getAddress()}).then($=>N(this,void 0,void 0,function*(){return(0,E.getAddress)($.signer)!==$.override&&_.throwError("Contract with a Signer cannot override from",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),$.override})):u.from=s.signer.getAddress():u.from&&(u.from=V(s.provider,u.from));const c=yield(0,m.resolveProperties)({args:K(s.signer||s.provider,l,n.inputs),address:s.resolvedAddress,overrides:(0,m.resolveProperties)(u)||{}}),f=s.interface.encodeFunctionData(n,c.args),g={data:f,to:c.address},k=c.overrides;if(k.nonce!=null&&(g.nonce=B.O$.from(k.nonce).toNumber()),k.gasLimit!=null&&(g.gasLimit=B.O$.from(k.gasLimit)),k.gasPrice!=null&&(g.gasPrice=B.O$.from(k.gasPrice)),k.maxFeePerGas!=null&&(g.maxFeePerGas=B.O$.from(k.maxFeePerGas)),k.maxPriorityFeePerGas!=null&&(g.maxPriorityFeePerGas=B.O$.from(k.maxPriorityFeePerGas)),k.from!=null&&(g.from=k.from),k.type!=null&&(g.type=k.type),k.accessList!=null&&(g.accessList=(0,O.accessListify)(k.accessList)),g.gasLimit==null&&n.gas!=null){let $=21e3;const ee=(0,Y.arrayify)(f);for(let X=0;X<ee.length;X++)$+=4,ee[X]&&($+=64);g.gasLimit=B.O$.from(n.gas).add($)}if(k.value){const $=B.O$.from(k.value);!$.isZero()&&!n.payable&&_.throwError("non-payable method cannot override value",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:u.value}),g.value=$}k.customData&&(g.customData=(0,m.shallowCopy)(k.customData)),k.ccipReadEnabled&&(g.ccipReadEnabled=!!k.ccipReadEnabled),delete u.nonce,delete u.gasLimit,delete u.gasPrice,delete u.from,delete u.value,delete u.type,delete u.accessList,delete u.maxFeePerGas,delete u.maxPriorityFeePerGas,delete u.customData,delete u.ccipReadEnabled;const P=Object.keys(u).filter($=>u[$]!=null);return P.length&&_.throwError(`cannot override ${P.map($=>JSON.stringify($)).join(",")}`,G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:P}),g})}function ce(s,n){return function(...l){return J(s,n,l)}}function q(s,n){const l=s.signer||s.provider;return function(...u){return N(this,void 0,void 0,function*(){l||_.throwError("estimate require a provider or signer",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const c=yield J(s,n,u);return yield l.estimateGas(c)})}}function h(s,n){const l=n.wait.bind(n);n.wait=u=>l(u).then(c=>(c.events=c.logs.map(f=>{let g=(0,m.deepCopy)(f),k=null;try{k=s.interface.parseLog(f)}catch{}return k&&(g.args=k.args,g.decode=(P,$)=>s.interface.decodeEventLog(k.eventFragment,P,$),g.event=k.name,g.eventSignature=k.signature),g.removeListener=()=>s.provider,g.getBlock=()=>s.provider.getBlock(c.blockHash),g.getTransaction=()=>s.provider.getTransaction(c.transactionHash),g.getTransactionReceipt=()=>Promise.resolve(c),g}),c))}function x(s,n,l){const u=s.signer||s.provider;return function(...c){return N(this,void 0,void 0,function*(){let f;if(c.length===n.inputs.length+1&&typeof c[c.length-1]=="object"){const P=(0,m.shallowCopy)(c.pop());P.blockTag!=null&&(f=yield P.blockTag),delete P.blockTag,c.push(P)}s.deployTransaction!=null&&(yield s._deployed(f));const g=yield J(s,n,c),k=yield u.call(g,f);try{let P=s.interface.decodeFunctionResult(n,k);return l&&n.outputs.length===1&&(P=P[0]),P}catch(P){throw P.code===G.Logger.errors.CALL_EXCEPTION&&(P.address=s.address,P.args=c,P.transaction=g),P}})}}function R(s,n){return function(...l){return N(this,void 0,void 0,function*(){s.signer||_.throwError("sending a transaction requires a signer",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),s.deployTransaction!=null&&(yield s._deployed());const u=yield J(s,n,l),c=yield s.signer.sendTransaction(u);return h(s,c),c})}}function b(s,n,l){return n.constant?x(s,n,l):R(s,n)}function D(s){return s.address&&(s.topics==null||s.topics.length===0)?"*":(s.address||"*")+"@"+(s.topics?s.topics.map(n=>Array.isArray(n)?n.join("|"):n).join(":"):"")}class U{constructor(n,l){(0,m.defineReadOnly)(this,"tag",n),(0,m.defineReadOnly)(this,"filter",l),this._listeners=[]}addListener(n,l){this._listeners.push({listener:n,once:l})}removeListener(n){let l=!1;this._listeners=this._listeners.filter(u=>l||u.listener!==n?!0:(l=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(n=>n.listener)}listenerCount(){return this._listeners.length}run(n){const l=this.listenerCount();return this._listeners=this._listeners.filter(u=>{const c=n.slice();return setTimeout(()=>{u.listener.apply(this,c)},0),!u.once}),l}prepareEvent(n){}getEmit(n){return[n]}}class F extends U{constructor(){super("error",null)}}class ne extends U{constructor(n,l,u,c){const f={address:n};let g=l.getEventTopic(u);c?(g!==c[0]&&_.throwArgumentError("topic mismatch","topics",c),f.topics=c.slice()):f.topics=[g],super(D(f),f),(0,m.defineReadOnly)(this,"address",n),(0,m.defineReadOnly)(this,"interface",l),(0,m.defineReadOnly)(this,"fragment",u)}prepareEvent(n){super.prepareEvent(n),n.event=this.fragment.name,n.eventSignature=this.fragment.format(),n.decode=(l,u)=>this.interface.decodeEventLog(this.fragment,l,u);try{n.args=this.interface.decodeEventLog(this.fragment,n.data,n.topics)}catch(l){n.args=null,n.decodeError=l}}getEmit(n){const l=(0,W.BR)(n.args);if(l.length)throw l[0].error;const u=(n.args||[]).slice();return u.push(n),u}}class C extends U{constructor(n,l){super("*",{address:n}),(0,m.defineReadOnly)(this,"address",n),(0,m.defineReadOnly)(this,"interface",l)}prepareEvent(n){super.prepareEvent(n);try{const l=this.interface.parseLog(n);n.event=l.name,n.eventSignature=l.signature,n.decode=(u,c)=>this.interface.decodeEventLog(l.eventFragment,u,c),n.args=l.args}catch{}}}class M{constructor(n,l,u){(0,m.defineReadOnly)(this,"interface",(0,m.getStatic)(new.target,"getInterface")(l)),u==null?((0,m.defineReadOnly)(this,"provider",null),(0,m.defineReadOnly)(this,"signer",null)):se.E.isSigner(u)?((0,m.defineReadOnly)(this,"provider",u.provider||null),(0,m.defineReadOnly)(this,"signer",u)):y.zt.isProvider(u)?((0,m.defineReadOnly)(this,"provider",u),(0,m.defineReadOnly)(this,"signer",null)):_.throwArgumentError("invalid signer or provider","signerOrProvider",u),(0,m.defineReadOnly)(this,"callStatic",{}),(0,m.defineReadOnly)(this,"estimateGas",{}),(0,m.defineReadOnly)(this,"functions",{}),(0,m.defineReadOnly)(this,"populateTransaction",{}),(0,m.defineReadOnly)(this,"filters",{});{const g={};Object.keys(this.interface.events).forEach(k=>{const P=this.interface.events[k];(0,m.defineReadOnly)(this.filters,k,(...$)=>({address:this.address,topics:this.interface.encodeFilterTopics(P,$)})),g[P.name]||(g[P.name]=[]),g[P.name].push(k)}),Object.keys(g).forEach(k=>{const P=g[k];P.length===1?(0,m.defineReadOnly)(this.filters,k,this.filters[P[0]]):_.warn(`Duplicate definition of ${k} (${P.join(", ")})`)})}if((0,m.defineReadOnly)(this,"_runningEvents",{}),(0,m.defineReadOnly)(this,"_wrappedEmits",{}),n==null&&_.throwArgumentError("invalid contract address or ENS name","addressOrName",n),(0,m.defineReadOnly)(this,"address",n),this.provider)(0,m.defineReadOnly)(this,"resolvedAddress",V(this.provider,n));else try{(0,m.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,E.getAddress)(n)))}catch{_.throwError("provider is required to use ENS name as contract address",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(g=>{});const c={},f={};Object.keys(this.interface.functions).forEach(g=>{const k=this.interface.functions[g];if(f[g]){_.warn(`Duplicate ABI entry for ${JSON.stringify(g)}`);return}f[g]=!0;{const P=k.name;c[`%${P}`]||(c[`%${P}`]=[]),c[`%${P}`].push(g)}this[g]==null&&(0,m.defineReadOnly)(this,g,b(this,k,!0)),this.functions[g]==null&&(0,m.defineReadOnly)(this.functions,g,b(this,k,!1)),this.callStatic[g]==null&&(0,m.defineReadOnly)(this.callStatic,g,x(this,k,!0)),this.populateTransaction[g]==null&&(0,m.defineReadOnly)(this.populateTransaction,g,ce(this,k)),this.estimateGas[g]==null&&(0,m.defineReadOnly)(this.estimateGas,g,q(this,k))}),Object.keys(c).forEach(g=>{const k=c[g];if(k.length>1)return;g=g.substring(1);const P=k[0];try{this[g]==null&&(0,m.defineReadOnly)(this,g,this[P])}catch{}this.functions[g]==null&&(0,m.defineReadOnly)(this.functions,g,this.functions[P]),this.callStatic[g]==null&&(0,m.defineReadOnly)(this.callStatic,g,this.callStatic[P]),this.populateTransaction[g]==null&&(0,m.defineReadOnly)(this.populateTransaction,g,this.populateTransaction[P]),this.estimateGas[g]==null&&(0,m.defineReadOnly)(this.estimateGas,g,this.estimateGas[P])})}static getContractAddress(n){return(0,E.getContractAddress)(n)}static getInterface(n){return j.vU.isInterface(n)?n:new j.vU(n)}deployed(){return this._deployed()}_deployed(n){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,n).then(l=>(l==="0x"&&_.throwError("contract not deployed",G.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(n){this.signer||_.throwError("sending a transactions require a signer",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const l=(0,m.shallowCopy)(n||{});return["from","to"].forEach(function(u){l[u]!=null&&_.throwError("cannot override "+u,G.Logger.errors.UNSUPPORTED_OPERATION,{operation:u})}),l.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(l))}connect(n){typeof n=="string"&&(n=new se.b(n,this.provider));const l=new this.constructor(this.address,this.interface,n);return this.deployTransaction&&(0,m.defineReadOnly)(l,"deployTransaction",this.deployTransaction),l}attach(n){return new this.constructor(n,this.interface,this.signer||this.provider)}static isIndexed(n){return j.Hk.isIndexed(n)}_normalizeRunningEvent(n){return this._runningEvents[n.tag]?this._runningEvents[n.tag]:n}_getRunningEvent(n){if(typeof n=="string"){if(n==="error")return this._normalizeRunningEvent(new F);if(n==="event")return this._normalizeRunningEvent(new U("event",null));if(n==="*")return this._normalizeRunningEvent(new C(this.address,this.interface));const l=this.interface.getEvent(n);return this._normalizeRunningEvent(new ne(this.address,this.interface,l))}if(n.topics&&n.topics.length>0){try{const u=n.topics[0];if(typeof u!="string")throw new Error("invalid topic");const c=this.interface.getEvent(u);return this._normalizeRunningEvent(new ne(this.address,this.interface,c,n.topics))}catch{}const l={address:this.address,topics:n.topics};return this._normalizeRunningEvent(new U(D(l),l))}return this._normalizeRunningEvent(new C(this.address,this.interface))}_checkRunningEvents(n){if(n.listenerCount()===0){delete this._runningEvents[n.tag];const l=this._wrappedEmits[n.tag];l&&n.filter&&(this.provider.off(n.filter,l),delete this._wrappedEmits[n.tag])}}_wrapEvent(n,l,u){const c=(0,m.deepCopy)(l);return c.removeListener=()=>{!u||(n.removeListener(u),this._checkRunningEvents(n))},c.getBlock=()=>this.provider.getBlock(l.blockHash),c.getTransaction=()=>this.provider.getTransaction(l.transactionHash),c.getTransactionReceipt=()=>this.provider.getTransactionReceipt(l.transactionHash),n.prepareEvent(c),c}_addEventListener(n,l,u){if(this.provider||_.throwError("events require a provider or a signer with a provider",G.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),n.addListener(l,u),this._runningEvents[n.tag]=n,!this._wrappedEmits[n.tag]){const c=f=>{let g=this._wrapEvent(n,f,l);if(g.decodeError==null)try{const k=n.getEmit(g);this.emit(n.filter,...k)}catch(k){g.decodeError=k.error}n.filter!=null&&this.emit("event",g),g.decodeError!=null&&this.emit("error",g.decodeError,g)};this._wrappedEmits[n.tag]=c,n.filter!=null&&this.provider.on(n.filter,c)}}queryFilter(n,l,u){const c=this._getRunningEvent(n),f=(0,m.shallowCopy)(c.filter);return typeof l=="string"&&(0,Y.isHexString)(l,32)?(u!=null&&_.throwArgumentError("cannot specify toBlock with blockhash","toBlock",u),f.blockHash=l):(f.fromBlock=l??0,f.toBlock=u??"latest"),this.provider.getLogs(f).then(g=>g.map(k=>this._wrapEvent(c,k,null)))}on(n,l){return this._addEventListener(this._getRunningEvent(n),l,!1),this}once(n,l){return this._addEventListener(this._getRunningEvent(n),l,!0),this}emit(n,...l){if(!this.provider)return!1;const u=this._getRunningEvent(n),c=u.run(l)>0;return this._checkRunningEvents(u),c}listenerCount(n){return this.provider?n==null?Object.keys(this._runningEvents).reduce((l,u)=>l+this._runningEvents[u].listenerCount(),0):this._getRunningEvent(n).listenerCount():0}listeners(n){if(!this.provider)return[];if(n==null){const l=[];for(let u in this._runningEvents)this._runningEvents[u].listeners().forEach(c=>{l.push(c)});return l}return this._getRunningEvent(n).listeners()}removeAllListeners(n){if(!this.provider)return this;if(n==null){for(const u in this._runningEvents){const c=this._runningEvents[u];c.removeAllListeners(),this._checkRunningEvents(c)}return this}const l=this._getRunningEvent(n);return l.removeAllListeners(),this._checkRunningEvents(l),this}off(n,l){if(!this.provider)return this;const u=this._getRunningEvent(n);return u.removeListener(l),this._checkRunningEvents(u),this}removeListener(n,l){return this.off(n,l)}}class w extends M{}class t{constructor(n,l,u){let c=null;typeof l=="string"?c=l:isBytes(l)?c=hexlify(l):l&&typeof l.object=="string"?c=l.object:c="!",c.substring(0,2)!=="0x"&&(c="0x"+c),(!isHexString(c)||c.length%2)&&_.throwArgumentError("invalid bytecode","bytecode",l),u&&!Signer.isSigner(u)&&_.throwArgumentError("invalid signer","signer",u),defineReadOnly(this,"bytecode",c),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(n)),defineReadOnly(this,"signer",u||null)}getDeployTransaction(...n){let l={};if(n.length===this.interface.deploy.inputs.length+1&&typeof n[n.length-1]=="object"){l=shallowCopy(n.pop());for(const u in l)if(!I[u])throw new Error("unknown transaction override "+u)}return["data","from","to"].forEach(u=>{l[u]!=null&&_.throwError("cannot override "+u,Logger.errors.UNSUPPORTED_OPERATION,{operation:u})}),l.value&&!BigNumber.from(l.value).isZero()&&!this.interface.deploy.payable&&_.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:l.value}),_.checkArgumentCount(n.length,this.interface.deploy.inputs.length," in Contract constructor"),l.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(n)])),l}deploy(...n){return N(this,void 0,void 0,function*(){let l={};n.length===this.interface.deploy.inputs.length+1&&(l=n.pop()),_.checkArgumentCount(n.length,this.interface.deploy.inputs.length," in Contract constructor");const u=yield K(this.signer,n,this.interface.deploy.inputs);u.push(l);const c=this.getDeployTransaction(...u),f=yield this.signer.sendTransaction(c),g=getStatic(this.constructor,"getContractAddress")(f),k=getStatic(this.constructor,"getContract")(g,this.interface,this.signer);return h(k,f),defineReadOnly(k,"deployTransaction",f),k})}attach(n){return this.constructor.getContract(n,this.interface,this.signer)}connect(n){return new this.constructor(this.interface,this.bytecode,n)}static fromSolidity(n,l){n==null&&_.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof n=="string"&&(n=JSON.parse(n));const u=n.abi;let c=null;return n.bytecode?c=n.bytecode:n.evm&&n.evm.bytecode&&(c=n.evm.bytecode),new this(u,c,l)}static getInterface(n){return w.getInterface(n)}static getContractAddress(n){return getContractAddress(n)}static getContract(n,l,u){return new w(n,l,u)}}},34216:function(_e,le,v){v.d(le,{i:function(){return W}});const W="providers/5.7.1"},14679:function(_e,le,v){v.d(le,{r:function(){return Ee}});var W=v(48088),j=v(2593),y=v(16441),se=v(67827),E=v(6881),B=v(29251),Y=v(83875),m=v(37707),O=v(1581),G=v(34216),A=v(81556),N=v(59567),_=v(57727),I=v(57218),V=v(27586),K=v(45710),J=v(2006),ce=v(92882),q=v.n(ce),h=v(19485),x=v(9279);const R=new O.Logger(G.i);class b{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),i=this.bigNumber.bind(this),o=this.blockTag.bind(this),a=this.data.bind(this),d=this.hash.bind(this),L=this.hex.bind(this),T=this.number.bind(this),S=this.type.bind(this),z=H=>this.data(H,!0);return e.transaction={hash:d,type:S,accessList:b.allowNull(this.accessList.bind(this),null),blockHash:b.allowNull(d,null),blockNumber:b.allowNull(T,null),transactionIndex:b.allowNull(T,null),confirmations:b.allowNull(T,null),from:r,gasPrice:b.allowNull(i),maxPriorityFeePerGas:b.allowNull(i),maxFeePerGas:b.allowNull(i),gasLimit:i,to:b.allowNull(r,null),value:i,nonce:T,data:a,r:b.allowNull(this.uint256),s:b.allowNull(this.uint256),v:b.allowNull(T),creates:b.allowNull(r,null),raw:b.allowNull(a)},e.transactionRequest={from:b.allowNull(r),nonce:b.allowNull(T),gasLimit:b.allowNull(i),gasPrice:b.allowNull(i),maxPriorityFeePerGas:b.allowNull(i),maxFeePerGas:b.allowNull(i),to:b.allowNull(r),value:b.allowNull(i),data:b.allowNull(z),type:b.allowNull(T),accessList:b.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:T,blockNumber:T,transactionHash:d,address:r,topics:b.arrayOf(d),data:a,logIndex:T,blockHash:d},e.receipt={to:b.allowNull(this.address,null),from:b.allowNull(this.address,null),contractAddress:b.allowNull(r,null),transactionIndex:T,root:b.allowNull(L),gasUsed:i,logsBloom:b.allowNull(a),blockHash:d,transactionHash:d,logs:b.arrayOf(this.receiptLog.bind(this)),blockNumber:T,confirmations:b.allowNull(T,null),cumulativeGasUsed:i,effectiveGasPrice:b.allowNull(i),status:b.allowNull(T),type:S},e.block={hash:b.allowNull(d),parentHash:d,number:T,timestamp:T,nonce:b.allowNull(L),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:b.allowNull(r),extraData:a,transactions:b.allowNull(b.arrayOf(d)),baseFeePerGas:b.allowNull(i)},e.blockWithTransactions=(0,E.shallowCopy)(e.block),e.blockWithTransactions.transactions=b.allowNull(b.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:b.allowNull(o,void 0),toBlock:b.allowNull(o,void 0),blockHash:b.allowNull(d,void 0),address:b.allowNull(r,void 0),topics:b.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:b.allowNull(T),blockHash:b.allowNull(d),transactionIndex:T,removed:b.allowNull(this.boolean.bind(this)),address:r,data:b.allowFalsish(a,"0x"),topics:b.arrayOf(d),transactionHash:d,logIndex:T},e}accessList(e){return(0,Y.accessListify)(e||[])}number(e){return e==="0x"?0:j.O$.from(e).toNumber()}type(e){return e==="0x"||e==null?0:j.O$.from(e).toNumber()}bigNumber(e){return j.O$.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),(0,y.isHexString)(e))?e.toLowerCase():R.throwArgumentError("invalid hash","value",e)}data(e,r){const i=this.hex(e,r);if(i.length%2!==0)throw new Error("invalid data; odd-length - "+e);return i}address(e){return(0,h.getAddress)(e)}callAddress(e){if(!(0,y.isHexString)(e,32))return null;const r=(0,h.getAddress)((0,y.hexDataSlice)(e,12));return r===x.d?null:r}contractAddress(e){return(0,h.getContractAddress)(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||(0,y.isHexString)(e))return(0,y.hexValue)(e);throw new Error("invalid blockTag")}hash(e,r){const i=this.hex(e,r);return(0,y.hexDataLength)(i)!==32?R.throwArgumentError("invalid hash","value",e):i}difficulty(e){if(e==null)return null;const r=j.O$.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!(0,y.isHexString)(e))throw new Error("invalid uint256");return(0,y.hexZeroPad)(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const i=e._difficulty!=null?e._difficulty:e.difficulty,o=b.check(r,e);return o._difficulty=i==null?null:j.O$.from(i),o}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return b.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&j.O$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=b.check(this.formats.transaction,e);if(e.chainId!=null){let i=e.chainId;(0,y.isHexString)(i)&&(i=j.O$.from(i).toNumber()),r.chainId=i}else{let i=e.networkId;i==null&&r.v==null&&(i=e.chainId),(0,y.isHexString)(i)&&(i=j.O$.from(i).toNumber()),typeof i!="number"&&r.v!=null&&(i=(r.v-35)/2,i<0&&(i=0),i=parseInt(i)),typeof i!="number"&&(i=0),r.chainId=i}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return(0,Y.parse)(e)}receiptLog(e){return b.check(this.formats.receiptLog,e)}receipt(e){const r=b.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const i=j.O$.from(r.root).toNumber();i===0||i===1?(r.status!=null&&r.status!==i&&R.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=i,delete r.root):R.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&R.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return b.check(this.formats.filter,e)}filterLog(e){return b.check(this.formats.filterLog,e)}static check(e,r){const i={};for(const o in e)try{const a=e[o](r[o]);a!==void 0&&(i[o]=a)}catch(a){throw a.checkKey=o,a.checkValue=r[o],a}return i}static allowNull(e,r){return function(i){return i==null?r:e(i)}}static allowFalsish(e,r){return function(i){return i?e(i):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const i=[];return r.forEach(function(o){i.push(e(o))}),i}}}function D(p){return p&&typeof p.isCommunityResource=="function"}function U(p){return D(p)&&p.isCommunityResource()}let F=!1;function ne(){F||(F=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var C=function(p,e,r,i){function o(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function L(z){try{S(i.next(z))}catch(H){d(H)}}function T(z){try{S(i.throw(z))}catch(H){d(H)}}function S(z){z.done?a(z.value):o(z.value).then(L,T)}S((i=i.apply(p,e||[])).next())})};const M=new O.Logger(G.i),w=10;function t(p){return p==null?"null":((0,y.hexDataLength)(p)!==32&&M.throwArgumentError("invalid topic","topic",p),p.toLowerCase())}function s(p){for(p=p.slice();p.length>0&&p[p.length-1]==null;)p.pop();return p.map(e=>{if(Array.isArray(e)){const r={};e.forEach(o=>{r[t(o)]=!0});const i=Object.keys(r);return i.sort(),i.join("|")}else return t(e)}).join("&")}function n(p){return p===""?[]:p.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(i=>i==="null"?null:i);return r.length===1?r[0]:r})}function l(p){if(typeof p=="string"){if(p=p.toLowerCase(),(0,y.hexDataLength)(p)===32)return"tx:"+p;if(p.indexOf(":")===-1)return p}else{if(Array.isArray(p))return"filter:*:"+s(p);if(A.Sg.isForkEvent(p))throw M.warn("not implemented"),new Error("not implemented");if(p&&typeof p=="object")return"filter:"+(p.address||"*")+":"+s(p.topics||[])}throw new Error("invalid event - "+p)}function u(){return new Date().getTime()}function c(p){return new Promise(e=>{setTimeout(e,p)})}const f=["block","network","pending","poll"];class g{constructor(e,r,i){(0,E.defineReadOnly)(this,"tag",e),(0,E.defineReadOnly)(this,"listener",r),(0,E.defineReadOnly)(this,"once",i),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],i=n(e[2]),o={};return i.length>0&&(o.topics=i),r&&r!=="*"&&(o.address=r),o}pollable(){return this.tag.indexOf(":")>=0||f.indexOf(this.tag)>=0}}const k={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function P(p){return(0,y.hexZeroPad)(j.O$.from(p).toHexString(),32)}function $(p){return _.Base58.encode((0,y.concat)([p,(0,y.hexDataSlice)((0,J.JQ)((0,J.JQ)(p)),0,4)]))}const ee=new RegExp("^(ipfs)://(.*)$","i"),X=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ee,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function ue(p,e){try{return(0,B.ZN)(he(p,e))}catch{}return null}function he(p,e){if(p==="0x")return null;const r=j.O$.from((0,y.hexDataSlice)(p,e,e+32)).toNumber(),i=j.O$.from((0,y.hexDataSlice)(p,r,r+32)).toNumber();return(0,y.hexDataSlice)(p,r+32,r+32+i)}function we(p){return p.match(/^ipfs:\/\/ipfs\//i)?p=p.substring(12):p.match(/^ipfs:\/\//i)?p=p.substring(7):M.throwArgumentError("unsupported IPFS format","link",p),`https://gateway.ipfs.io/ipfs/${p}`}function be(p){const e=(0,y.arrayify)(p);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Le(p){if(p.length%32===0)return p;const e=new Uint8Array(Math.ceil(p.length/32)*32);return e.set(p),e}function ke(p){const e=[];let r=0;for(let i=0;i<p.length;i++)e.push(null),r+=32;for(let i=0;i<p.length;i++){const o=(0,y.arrayify)(p[i]);e[i]=be(r),e.push(be(o.length)),e.push(Le(o)),r+=32+Math.ceil(o.length/32)*32}return(0,y.hexConcat)(e)}class Se{constructor(e,r,i,o){(0,E.defineReadOnly)(this,"provider",e),(0,E.defineReadOnly)(this,"name",i),(0,E.defineReadOnly)(this,"address",e.formatter.address(r)),(0,E.defineReadOnly)(this,"_resolvedAddress",o)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>j.O$.from(e).eq(1)).catch(e=>{if(e.code===O.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return C(this,void 0,void 0,function*(){const i={to:this.address,ccipReadEnabled:!0,data:(0,y.hexConcat)([e,(0,V.VM)(this.name),r||"0x"])};let o=!1;(yield this.supportsWildcard())&&(o=!0,i.data=(0,y.hexConcat)(["0x9061b923",ke([(0,V.Kn)(this.name),i.data])]));try{let a=yield this.provider.call(i);return(0,y.arrayify)(a).length%32===4&&M.throwError("resolver threw error",O.Logger.errors.CALL_EXCEPTION,{transaction:i,data:a}),o&&(a=he(a,0)),a}catch(a){if(a.code===O.Logger.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,r){return C(this,void 0,void 0,function*(){const i=yield this._fetch(e,r);return i!=null?he(i,0):null})}_getAddress(e,r){const i=k[String(e)];if(i==null&&M.throwError(`unsupported coin type: ${e}`,O.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),i.ilk==="eth")return this.provider.formatter.address(r);const o=(0,y.arrayify)(r);if(i.p2pkh!=null){const a=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const d=parseInt(a[1],16);if(a[2].length===d*2&&d>=1&&d<=75)return $((0,y.concat)([[i.p2pkh],"0x"+a[2]]))}}if(i.p2sh!=null){const a=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const d=parseInt(a[1],16);if(a[2].length===d*2&&d>=1&&d<=75)return $((0,y.concat)([[i.p2sh],"0x"+a[2]]))}}if(i.prefix!=null){const a=o[1];let d=o[0];if(d===0?a!==20&&a!==32&&(d=-1):d=-1,d>=0&&o.length===2+a&&a>=1&&a<=75){const L=q().toWords(o.slice(2));return L.unshift(d),q().encode(i.prefix,L)}}return null}getAddress(e){return C(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const o=yield this._fetch("0x3b3b57de");return o==="0x"||o===I.R?null:this.provider.formatter.callAddress(o)}catch(o){if(o.code===O.Logger.errors.CALL_EXCEPTION)return null;throw o}const r=yield this._fetchBytes("0xf1cb7e06",P(e));if(r==null||r==="0x")return null;const i=this._getAddress(e,r);return i==null&&M.throwError("invalid or unsupported coin data",O.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),i})}getAvatar(){return C(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let i=0;i<X.length;i++){const o=r.match(X[i]);if(o==null)continue;const a=o[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:we(r)};case"erc721":case"erc1155":{const d=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:r});const L=this._resolvedAddress||(yield this.getAddress()),T=(o[2]||"").split("/");if(T.length!==2)return null;const S=yield this.provider.formatter.address(T[0]),z=(0,y.hexZeroPad)(j.O$.from(T[1]).toHexString(),32);if(a==="erc721"){const ie=this.provider.formatter.callAddress(yield this.provider.call({to:S,data:(0,y.hexConcat)(["0x6352211e",z])}));if(L!==ie)return null;e.push({type:"owner",content:ie})}else if(a==="erc1155"){const ie=j.O$.from(yield this.provider.call({to:S,data:(0,y.hexConcat)(["0x00fdd58e",(0,y.hexZeroPad)(L,32),z])}));if(ie.isZero())return null;e.push({type:"balance",content:ie.toString()})}const H={to:this.provider.formatter.address(T[0]),data:(0,y.hexConcat)([d,z])};let Z=ue(yield this.provider.call(H),0);if(Z==null)return null;e.push({type:"metadata-url-base",content:Z}),a==="erc1155"&&(Z=Z.replace("{id}",z.substring(2)),e.push({type:"metadata-url-expanded",content:Z})),Z.match(/^ipfs:/i)&&(Z=we(Z)),e.push({type:"metadata-url",content:Z});const ae=yield(0,m.fetchJson)(Z);if(!ae)return null;e.push({type:"metadata",content:JSON.stringify(ae)});let oe=ae.image;if(typeof oe!="string")return null;if(!oe.match(/^(https:\/\/|data:)/i)){if(oe.match(ee)==null)return null;e.push({type:"url-ipfs",content:oe}),oe=we(oe)}return e.push({type:"url",content:oe}),{linkage:e,url:oe}}}}}catch{}return null})}getContentHash(){return C(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const d=parseInt(r[3],16);if(r[4].length===d*2)return"ipfs://"+_.Base58.encode("0x"+r[1])}const i=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(i){const d=parseInt(i[3],16);if(i[4].length===d*2)return"ipns://"+_.Base58.encode("0x"+i[1])}const o=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(o&&o[1].length===32*2)return"bzz://"+o[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const d={"=":"","+":"-","/":"_"},L=(0,N.c)("0x"+a[1]).replace(/[=+\/]/g,T=>d[T]);return"sia://"+L}return M.throwError("invalid or unsupported content hash data",O.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return C(this,void 0,void 0,function*(){let r=(0,B.Y0)(e);r=(0,y.concat)([P(64),P(r.length),r]),r.length%32!==0&&(r=(0,y.concat)([r,(0,y.hexZeroPad)("0x",32-e.length%32)]));const i=yield this._fetchBytes("0x59d1d43c",(0,y.hexlify)(r));return i==null||i==="0x"?null:(0,B.ZN)(i)})}}let ve=null,Ie=1;class xe extends A.zt{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,E.defineReadOnly)(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=(0,E.getStatic)(new.target,"getNetwork")(e);r?((0,E.defineReadOnly)(this,"_network",r),this.emit("network",r,null)):M.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return C(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||M.throwError("no network detected",O.Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:(0,E.defineReadOnly)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return(0,m.poll)(()=>this._ready().then(e=>e,e=>{if(!(e.code===O.Logger.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return ve==null&&(ve=new b),ve}static getNetwork(e){return(0,K.H)(e??"homestead")}ccipReadFetch(e,r,i){return C(this,void 0,void 0,function*(){if(this.disableCcipRead||i.length===0)return null;const o=e.to.toLowerCase(),a=r.toLowerCase(),d=[];for(let L=0;L<i.length;L++){const T=i[L],S=T.replace("{sender}",o).replace("{data}",a),z=T.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:o}),H=yield(0,m.fetchJson)({url:S,errorPassThrough:!0},z,(ae,oe)=>(ae.status=oe.statusCode,ae));if(H.data)return H.data;const Z=H.message||"unknown error";if(H.status>=400&&H.status<500)return M.throwError(`response not found during CCIP fetch: ${Z}`,O.Logger.errors.SERVER_ERROR,{url:T,errorMessage:Z});d.push(Z)}return M.throwError(`error encountered during CCIP fetch: ${d.map(L=>JSON.stringify(L)).join(", ")}`,O.Logger.errors.SERVER_ERROR,{urls:i,errorMessages:d})})}_getInternalBlockNumber(e){return C(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const o=this._internalBlockNumber;try{const a=yield o;if(u()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===o)break}}const r=u(),i=(0,E.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(o=>null,o=>o)}).then(({blockNumber:o,networkError:a})=>{if(a)throw this._internalBlockNumber===i&&(this._internalBlockNumber=null),a;const d=u();return o=j.O$.from(o).toNumber(),o<this._maxInternalBlockNumber&&(o=this._maxInternalBlockNumber),this._maxInternalBlockNumber=o,this._setFastBlockNumber(o),{blockNumber:o,reqTime:r,respTime:d}});return this._internalBlockNumber=i,i.catch(o=>{this._internalBlockNumber===i&&(this._internalBlockNumber=null)}),(yield i).blockNumber})}poll(){return C(this,void 0,void 0,function*(){const e=Ie++,r=[];let i=null;try{i=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(o){this.emit("error",o);return}if(this._setFastBlockNumber(i),this.emit("poll",e,i),i===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=i-1),Math.abs(this._emitted.block-i)>1e3)M.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${i})`),this.emit("error",M.makeError("network block skew detected",O.Logger.errors.NETWORK_ERROR,{blockNumber:i,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",i);else for(let o=this._emitted.block+1;o<=i;o++)this.emit("block",o);this._emitted.block!==i&&(this._emitted.block=i,Object.keys(this._emitted).forEach(o=>{if(o==="block")return;const a=this._emitted[o];a!=="pending"&&i-a>12&&delete this._emitted[o]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=i-1),this._events.forEach(o=>{switch(o.type){case"tx":{const a=o.hash;let d=this.getTransactionReceipt(a).then(L=>(!L||L.blockNumber==null||(this._emitted["t:"+a]=L.blockNumber,this.emit(a,L)),null)).catch(L=>{this.emit("error",L)});r.push(d);break}case"filter":{if(!o._inflight){o._inflight=!0,o._lastBlockNumber===-2&&(o._lastBlockNumber=i-1);const a=o.filter;a.fromBlock=o._lastBlockNumber+1,a.toBlock=i;const d=a.toBlock-this._maxFilterBlockRange;d>a.fromBlock&&(a.fromBlock=d),a.fromBlock<0&&(a.fromBlock=0);const L=this.getLogs(a).then(T=>{o._inflight=!1,T.length!==0&&T.forEach(S=>{S.blockNumber>o._lastBlockNumber&&(o._lastBlockNumber=S.blockNumber),this._emitted["b:"+S.blockHash]=S.blockNumber,this._emitted["t:"+S.transactionHash]=S.blockNumber,this.emit(a,S)})}).catch(T=>{this.emit("error",T),o._inflight=!1});r.push(L)}break}}}),this._lastBlockNumber=i,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(o=>{this.emit("error",o)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return C(this,void 0,void 0,function*(){return M.throwError("provider does not support network detection",O.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return C(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield c(0),this._network;const i=M.makeError("underlying network changed",O.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",i),i}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=u();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=u(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,i){return C(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,i||0,null)})}_waitForTransaction(e,r,i,o){return C(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=r?a:new Promise((d,L)=>{const T=[];let S=!1;const z=function(){return S?!0:(S=!0,T.forEach(Z=>{Z()}),!1)},H=Z=>{Z.confirmations<r||z()||d(Z)};if(this.on(e,H),T.push(()=>{this.removeListener(e,H)}),o){let Z=o.startBlock,ae=null;const oe=ie=>C(this,void 0,void 0,function*(){S||(yield c(1e3),this.getTransactionCount(o.from).then(ge=>C(this,void 0,void 0,function*(){if(!S){if(ge<=o.nonce)Z=ie;else{{const me=yield this.getTransaction(e);if(me&&me.blockNumber!=null)return}for(ae==null&&(ae=Z-3,ae<o.startBlock&&(ae=o.startBlock));ae<=ie;){if(S)return;const me=yield this.getBlockWithTransactions(ae);for(let Q=0;Q<me.transactions.length;Q++){const re=me.transactions[Q];if(re.hash===e)return;if(re.from===o.from&&re.nonce===o.nonce){if(S)return;const Be=yield this.waitForTransaction(re.hash,r);if(z())return;let ye="replaced";re.data===o.data&&re.to===o.to&&re.value.eq(o.value)?ye="repriced":re.data==="0x"&&re.from===re.to&&re.value.isZero()&&(ye="cancelled"),L(M.makeError("transaction was replaced",O.Logger.errors.TRANSACTION_REPLACED,{cancelled:ye==="replaced"||ye==="cancelled",reason:ye,replacement:this._wrapTransaction(re),hash:e,receipt:Be}));return}}ae++}}S||this.once("block",oe)}}),ge=>{S||this.once("block",oe)}))});if(S)return;this.once("block",oe),T.push(()=>{this.removeListener("block",oe)})}if(typeof i=="number"&&i>0){const Z=setTimeout(()=>{z()||L(M.makeError("timeout exceeded",O.Logger.errors.TIMEOUT,{timeout:i}))},i);Z.unref&&Z.unref(),T.push(()=>{clearTimeout(Z)})}})})}getBlockNumber(){return C(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return C(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return j.O$.from(e)}catch(r){return M.throwError("bad result from backend",O.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return C(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield(0,E.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),o=yield this.perform("getBalance",i);try{return j.O$.from(o)}catch(a){return M.throwError("bad result from backend",O.Logger.errors.SERVER_ERROR,{method:"getBalance",params:i,result:o,error:a})}})}getTransactionCount(e,r){return C(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield(0,E.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),o=yield this.perform("getTransactionCount",i);try{return j.O$.from(o).toNumber()}catch(a){return M.throwError("bad result from backend",O.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:i,result:o,error:a})}})}getCode(e,r){return C(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield(0,E.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),o=yield this.perform("getCode",i);try{return(0,y.hexlify)(o)}catch(a){return M.throwError("bad result from backend",O.Logger.errors.SERVER_ERROR,{method:"getCode",params:i,result:o,error:a})}})}getStorageAt(e,r,i){return C(this,void 0,void 0,function*(){yield this.getNetwork();const o=yield(0,E.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(i),position:Promise.resolve(r).then(d=>(0,y.hexValue)(d))}),a=yield this.perform("getStorageAt",o);try{return(0,y.hexlify)(a)}catch(d){return M.throwError("bad result from backend",O.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:o,result:a,error:d})}})}_wrapTransaction(e,r,i){if(r!=null&&(0,y.hexDataLength)(r)!==32)throw new Error("invalid response - sendTransaction");const o=e;return r!=null&&e.hash!==r&&M.throwError("Transaction hash mismatch from Provider.sendTransaction.",O.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),o.wait=(a,d)=>C(this,void 0,void 0,function*(){a==null&&(a=1),d==null&&(d=0);let L;a!==0&&i!=null&&(L={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:i});const T=yield this._waitForTransaction(e.hash,a,d,L);return T==null&&a===0?null:(this._emitted["t:"+e.hash]=T.blockNumber,T.status===0&&M.throwError("transaction failed",O.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:T}),T)}),o}sendTransaction(e){return C(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(a=>(0,y.hexlify)(a)),i=this.formatter.transaction(e);i.confirmations==null&&(i.confirmations=0);const o=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(i,a,o)}catch(a){throw a.transaction=i,a.transactionHash=i.hash,a}})}_getTransactionRequest(e){return C(this,void 0,void 0,function*(){const r=yield e,i={};return["from","to"].forEach(o=>{r[o]!=null&&(i[o]=Promise.resolve(r[o]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(o=>{r[o]!=null&&(i[o]=Promise.resolve(r[o]).then(a=>a?j.O$.from(a):null))}),["type"].forEach(o=>{r[o]!=null&&(i[o]=Promise.resolve(r[o]).then(a=>a??null))}),r.accessList&&(i.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(o=>{r[o]!=null&&(i[o]=Promise.resolve(r[o]).then(a=>a?(0,y.hexlify)(a):null))}),this.formatter.transactionRequest(yield(0,E.resolveProperties)(i))})}_getFilter(e){return C(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(i=>{e[i]!=null&&(r[i]=e[i])}),["fromBlock","toBlock"].forEach(i=>{e[i]!=null&&(r[i]=this._getBlockTag(e[i]))}),this.formatter.filter(yield(0,E.resolveProperties)(r))})}_call(e,r,i){return C(this,void 0,void 0,function*(){i>=w&&M.throwError("CCIP read exceeded maximum redirections",O.Logger.errors.SERVER_ERROR,{redirects:i,transaction:e});const o=e.to,a=yield this.perform("call",{transaction:e,blockTag:r});if(i>=0&&r==="latest"&&o!=null&&a.substring(0,10)==="0x556f1830"&&(0,y.hexDataLength)(a)%32===4)try{const d=(0,y.hexDataSlice)(a,4),L=(0,y.hexDataSlice)(d,0,32);j.O$.from(L).eq(o)||M.throwError("CCIP Read sender did not match",O.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const T=[],S=j.O$.from((0,y.hexDataSlice)(d,32,64)).toNumber(),z=j.O$.from((0,y.hexDataSlice)(d,S,S+32)).toNumber(),H=(0,y.hexDataSlice)(d,S+32);for(let me=0;me<z;me++){const Q=ue(H,me*32);Q==null&&M.throwError("CCIP Read contained corrupt URL string",O.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),T.push(Q)}const Z=he(d,64);j.O$.from((0,y.hexDataSlice)(d,100,128)).isZero()||M.throwError("CCIP Read callback selector included junk",O.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const ae=(0,y.hexDataSlice)(d,96,100),oe=he(d,128),ie=yield this.ccipReadFetch(e,Z,T);ie==null&&M.throwError("CCIP Read disabled or provided no URLs",O.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const ge={to:o,data:(0,y.hexConcat)([ae,ke([ie,oe])])};return this._call(ge,r,i+1)}catch(d){if(d.code===O.Logger.errors.SERVER_ERROR)throw d}try{return(0,y.hexlify)(a)}catch(d){return M.throwError("bad result from backend",O.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:a,error:d})}})}call(e,r){return C(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield(0,E.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(i.transaction,i.blockTag,i.ccipReadEnabled?0:-1)})}estimateGas(e){return C(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield(0,E.resolveProperties)({transaction:this._getTransactionRequest(e)}),i=yield this.perform("estimateGas",r);try{return j.O$.from(i)}catch(o){return M.throwError("bad result from backend",O.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:i,error:o})}})}_getAddress(e){return C(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&M.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&M.throwError("ENS name not configured",O.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return C(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let i=-128;const o={includeTransactions:!!r};if((0,y.isHexString)(e,32))o.blockHash=e;else try{o.blockTag=yield this._getBlockTag(e),(0,y.isHexString)(o.blockTag)&&(i=parseInt(o.blockTag.substring(2),16))}catch{M.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,m.poll)(()=>C(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",o);if(a==null)return o.blockHash!=null&&this._emitted["b:"+o.blockHash]==null||o.blockTag!=null&&i>this._emitted.block?null:void 0;if(r){let d=null;for(let T=0;T<a.transactions.length;T++){const S=a.transactions[T];if(S.blockNumber==null)S.confirmations=0;else if(S.confirmations==null){d==null&&(d=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let z=d-S.blockNumber+1;z<=0&&(z=1),S.confirmations=z}}const L=this.formatter.blockWithTransactions(a);return L.transactions=L.transactions.map(T=>this._wrapTransaction(T)),L}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return C(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return(0,m.poll)(()=>C(this,void 0,void 0,function*(){const i=yield this.perform("getTransaction",r);if(i==null)return this._emitted["t:"+e]==null?null:void 0;const o=this.formatter.transactionResponse(i);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let d=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;d<=0&&(d=1),o.confirmations=d}return this._wrapTransaction(o)}),{oncePoll:this})})}getTransactionReceipt(e){return C(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return(0,m.poll)(()=>C(this,void 0,void 0,function*(){const i=yield this.perform("getTransactionReceipt",r);if(i==null)return this._emitted["t:"+e]==null?null:void 0;if(i.blockHash==null)return;const o=this.formatter.receipt(i);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let d=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;d<=0&&(d=1),o.confirmations=d}return o}),{oncePoll:this})})}getLogs(e){return C(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield(0,E.resolveProperties)({filter:this._getFilter(e)}),i=yield this.perform("getLogs",r);return i.forEach(o=>{o.removed==null&&(o.removed=!1)}),b.arrayOf(this.formatter.filterLog.bind(this.formatter))(i)})}getEtherPrice(){return C(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return C(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&M.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return C(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const i=yield this._getResolver(r,"getResolver");if(i!=null){const o=new Se(this,i,e);return r!==e&&!(yield o.supportsWildcard())?null:o}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return C(this,void 0,void 0,function*(){r==null&&(r="ENS");const i=yield this.getNetwork();i.ensAddress||M.throwError("network does not support ENS",O.Logger.errors.UNSUPPORTED_OPERATION,{operation:r,network:i.name});try{const o=yield this.call({to:i.ensAddress,data:"0x0178b8bf"+(0,V.VM)(e).substring(2)});return this.formatter.callAddress(o)}catch{}return null})}resolveName(e){return C(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(i){if((0,y.isHexString)(e))throw i}typeof e!="string"&&M.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return C(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r,"lookupAddress");if(i==null)return null;const o=ue(yield this.call({to:i,data:"0x691f3431"+(0,V.VM)(r).substring(2)}),0);return(yield this.resolveName(o))!=e?null:o})}getAvatar(e){return C(this,void 0,void 0,function*(){let r=null;if((0,y.isHexString)(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",d=yield this._getResolver(a,"getAvatar");if(!d)return null;r=new Se(this,d,a);try{const L=yield r.getAvatar();if(L)return L.url}catch(L){if(L.code!==O.Logger.errors.CALL_EXCEPTION)throw L}try{const L=ue(yield this.call({to:d,data:"0x691f3431"+(0,V.VM)(a).substring(2)}),0);r=yield this.getResolver(L)}catch(L){if(L.code!==O.Logger.errors.CALL_EXCEPTION)throw L;return null}}else if(r=yield this.getResolver(e),!r)return null;const i=yield r.getAvatar();return i==null?null:i.url})}perform(e,r){return M.throwError(e+" not implemented",O.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,i){const o=new g(l(e),r,i);return this._events.push(o),this._startEvent(o),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let i=!1,o=[],a=l(e);return this._events=this._events.filter(d=>d.tag!==a?!0:(setTimeout(()=>{d.listener.apply(this,r)},0),i=!0,d.once?(o.push(d),!1):!0)),o.forEach(d=>{this._stopEvent(d)}),i}listenerCount(e){if(!e)return this._events.length;let r=l(e);return this._events.filter(i=>i.tag===r).length}listeners(e){if(e==null)return this._events.map(i=>i.listener);let r=l(e);return this._events.filter(i=>i.tag===r).map(i=>i.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const i=[];let o=!1,a=l(e);return this._events=this._events.filter(d=>d.tag!==a||d.listener!=r||o?!0:(o=!0,i.push(d),!1)),i.forEach(d=>{this._stopEvent(d)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const i=l(e);this._events=this._events.filter(o=>o.tag!==i?!0:(r.push(o),!1))}return r.forEach(i=>{this._stopEvent(i)}),this}}var de=function(p,e,r,i){function o(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function L(z){try{S(i.next(z))}catch(H){d(H)}}function T(z){try{S(i.throw(z))}catch(H){d(H)}}function S(z){z.done?a(z.value):o(z.value).then(L,T)}S((i=i.apply(p,e||[])).next())})};const te=new O.Logger(G.i),Re=["call","estimateGas"];function fe(p,e){if(p==null)return null;if(typeof p.message=="string"&&p.message.match("reverted")){const r=(0,y.isHexString)(p.data)?p.data:null;if(!e||r)return{message:p.message,data:r}}if(typeof p=="object"){for(const r in p){const i=fe(p[r],e);if(i)return i}return null}if(typeof p=="string")try{return fe(JSON.parse(p),e)}catch{}return null}function De(p,e,r){const i=r.transaction||r.signedTransaction;if(p==="call"){const a=fe(e,!0);if(a)return a.data;te.throwError("missing revert data in call exception; Transaction reverted without a reason string",O.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:i,error:e})}if(p==="estimateGas"){let a=fe(e.body,!1);a==null&&(a=fe(e,!1)),a&&te.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",O.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:p,transaction:i,error:e})}let o=e.message;throw e.code===O.Logger.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?o=e.error.message:typeof e.body=="string"?o=e.body:typeof e.responseText=="string"&&(o=e.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit/i)&&te.throwError("insufficient funds for intrinsic transaction cost",O.Logger.errors.INSUFFICIENT_FUNDS,{error:e,method:p,transaction:i}),o.match(/nonce (is )?too low/i)&&te.throwError("nonce has already been used",O.Logger.errors.NONCE_EXPIRED,{error:e,method:p,transaction:i}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&te.throwError("replacement fee too low",O.Logger.errors.REPLACEMENT_UNDERPRICED,{error:e,method:p,transaction:i}),o.match(/only replay-protected/i)&&te.throwError("legacy pre-eip-155 transactions not supported",O.Logger.errors.UNSUPPORTED_OPERATION,{error:e,method:p,transaction:i}),Re.indexOf(p)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&te.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",O.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:p,transaction:i}),e}function Oe(p){return new Promise(function(e){setTimeout(e,p)})}function Pe(p){if(p.error){const e=new Error(p.error.message);throw e.code=p.error.code,e.data=p.error.data,e}return p.result}function pe(p){return p&&p.toLowerCase()}const Ce={};class Te extends W.E{constructor(e,r,i){if(super(),e!==Ce)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,E.defineReadOnly)(this,"provider",r),i==null&&(i=0),typeof i=="string"?((0,E.defineReadOnly)(this,"_address",this.provider.formatter.address(i)),(0,E.defineReadOnly)(this,"_index",null)):typeof i=="number"?((0,E.defineReadOnly)(this,"_index",i),(0,E.defineReadOnly)(this,"_address",null)):te.throwArgumentError("invalid address or index","addressOrIndex",i)}connect(e){return te.throwError("cannot alter JSON-RPC Signer connection",O.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Ne(Ce,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&te.throwError("unknown account #"+this._index,O.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,E.shallowCopy)(e);const r=this.getAddress().then(i=>(i&&(i=i.toLowerCase()),i));if(e.gasLimit==null){const i=(0,E.shallowCopy)(e);i.from=r,e.gasLimit=this.provider.estimateGas(i)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(i=>de(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.provider.resolveName(i);return o==null&&te.throwArgumentError("provided ENS name resolves to null","tx.to",i),o}))),(0,E.resolveProperties)({tx:(0,E.resolveProperties)(e),sender:r}).then(({tx:i,sender:o})=>{i.from!=null?i.from.toLowerCase()!==o&&te.throwArgumentError("from address mismatch","transaction",e):i.from=o;const a=this.provider.constructor.hexlifyTransaction(i,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(d=>d,d=>(typeof d.message=="string"&&d.message.match(/user denied/i)&&te.throwError("user rejected transaction",O.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:i}),De("sendTransaction",d,a)))})}signTransaction(e){return te.throwError("signing transactions is unsupported",O.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return de(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),i=yield this.sendUncheckedTransaction(e);try{return yield(0,m.poll)(()=>de(this,void 0,void 0,function*(){const o=yield this.provider.getTransaction(i);if(o!==null)return this.provider._wrapTransaction(o,i,r)}),{oncePoll:this.provider})}catch(o){throw o.transactionHash=i,o}})}signMessage(e){return de(this,void 0,void 0,function*(){const r=typeof e=="string"?(0,B.Y0)(e):e,i=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,y.hexlify)(r),i.toLowerCase()])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&te.throwError("user rejected signing",O.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:i,messageData:e}),o}})}_legacySignMessage(e){return de(this,void 0,void 0,function*(){const r=typeof e=="string"?(0,B.Y0)(e):e,i=yield this.getAddress();try{return yield this.provider.send("eth_sign",[i.toLowerCase(),(0,y.hexlify)(r)])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&te.throwError("user rejected signing",O.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:i,messageData:e}),o}})}_signTypedData(e,r,i){return de(this,void 0,void 0,function*(){const o=yield se.E.resolveNames(e,r,i,d=>this.provider.resolveName(d)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(se.E.getPayload(o.domain,r,o.value))])}catch(d){throw typeof d.message=="string"&&d.message.match(/user denied/i)&&te.throwError("user rejected signing",O.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:o.domain,types:r,value:o.value}}),d}})}unlock(e){return de(this,void 0,void 0,function*(){const r=this.provider,i=yield this.getAddress();return r.send("personal_unlockAccount",[i.toLowerCase(),e,null])})}}class Ne extends Te{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:i=>this.provider.waitForTransaction(r,i)}))}}const Ae={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ee extends xe{constructor(e,r){let i=r;i==null&&(i=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(d=>{o(d)},d=>{a(d)})},0)})),super(i),e||(e=(0,E.getStatic)(this.constructor,"defaultUrl")()),typeof e=="string"?(0,E.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,E.defineReadOnly)(this,"connection",Object.freeze((0,E.shallowCopy)(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return de(this,void 0,void 0,function*(){yield Oe(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=(0,E.getStatic)(this.constructor,"getNetwork");try{return r(j.O$.from(e).toNumber())}catch(i){return te.throwError("could not detect network",O.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:i})}}return te.throwError("could not detect network",O.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Te(Ce,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const i={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,E.deepCopy)(i),provider:this});const o=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(o&&this._cache[e])return this._cache[e];const a=(0,m.fetchJson)(this.connection,JSON.stringify(i),Pe).then(d=>(this.emit("debug",{action:"response",request:i,response:d,provider:this}),d),d=>{throw this.emit("debug",{action:"response",error:d,request:i,provider:this}),d});return o&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[pe(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[pe(r.address),r.blockTag]];case"getCode":return["eth_getCode",[pe(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[pe(r.address),(0,y.hexZeroPad)(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":{const i=(0,E.getStatic)(this.constructor,"hexlifyTransaction");return["eth_call",[i(r.transaction,{from:!0}),r.blockTag]]}case"estimateGas":{const i=(0,E.getStatic)(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[i(r.transaction,{from:!0})]]}case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=pe(r.filter.address)),["eth_getLogs",[r.filter]];default:break}return null}perform(e,r){return de(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const o=r.transaction;if(o&&o.type!=null&&j.O$.from(o.type).isZero()&&o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=(0,E.shallowCopy)(r),r.transaction=(0,E.shallowCopy)(o),delete r.transaction.type)}}const i=this.prepareRequest(e,r);i==null&&te.throwError(e+" not implemented",O.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(i[0],i[1])}catch(o){return De(e,o,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(i){function o(){e.send("eth_getFilterChanges",[i]).then(function(a){if(e._pendingFilter!=r)return null;let d=Promise.resolve();return a.forEach(function(L){e._emitted["t:"+L.toLowerCase()]="pending",d=d.then(function(){return e.getTransaction(L).then(function(T){return e.emit("pending",T),null})})}),d.then(function(){return Oe(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[i]);return}return setTimeout(function(){o()},0),null}).catch(a=>{})}return o(),i}).catch(i=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const i=(0,E.shallowCopy)(Ae);if(r)for(const a in r)r[a]&&(i[a]=!0);(0,E.checkProperties)(e,i);const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const d=(0,y.hexValue)(j.O$.from(e[a]));a==="gasLimit"&&(a="gas"),o[a]=d}),["from","to","data"].forEach(function(a){e[a]!=null&&(o[a]=(0,y.hexlify)(e[a]))}),e.accessList&&(o.accessList=(0,Y.accessListify)(e.accessList)),o}}},241:function(_e,le,v){v.d(le,{Q:function(){return O}});var W=v(6881),j=v(1581),y=v(34216),se=v(14679);const E=new j.Logger(y.i);let B=1;function Y(G,A){const N="Web3LegacyFetcher";return function(_,I){const V={method:_,params:I,id:B++,jsonrpc:"2.0"};return new Promise((K,J)=>{this.emit("debug",{action:"request",fetcher:N,request:(0,W.deepCopy)(V),provider:this}),A(V,(ce,q)=>{if(ce)return this.emit("debug",{action:"response",fetcher:N,error:ce,request:V,provider:this}),J(ce);if(this.emit("debug",{action:"response",fetcher:N,request:V,response:q,provider:this}),q.error){const h=new Error(q.error.message);return h.code=q.error.code,h.data=q.error.data,J(h)}K(q.result)})})}}function m(G){return function(A,N){N==null&&(N=[]);const _={method:A,params:N};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,W.deepCopy)(_),provider:this}),G.request(_).then(I=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:_,response:I,provider:this}),I),I=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:_,error:I,provider:this}),I})}}class O extends se.r{constructor(A,N){A==null&&E.throwArgumentError("missing provider","provider",A);let _=null,I=null,V=null;typeof A=="function"?(_="unknown:",I=A):(_=A.host||A.path||"",!_&&A.isMetaMask&&(_="metamask"),V=A,A.request?(_===""&&(_="eip-1193:"),I=m(A)):A.sendAsync?I=Y(A,A.sendAsync.bind(A)):A.send?I=Y(A,A.send.bind(A)):E.throwArgumentError("unsupported provider","provider",A),_||(_="unknown:")),super(_,N),(0,W.defineReadOnly)(this,"jsonRpcFetchFunc",I),(0,W.defineReadOnly)(this,"provider",V)}send(A,N){return this.jsonRpcFetchFunc(A,N)}}},63463:function(_e,le,v){v.d(le,{Z:function(){return c}});var W=v(87462),j=v(4942),y=v(97685),se=v(97937),E=v(94184),B=v.n(E),Y=v(1413),m=v(67294),O=v(15471),G=v(8410),A=v(62874),N=function(g){var k=g.prefixCls,P=g.className,$=g.style,ee=g.children,X=g.containerRef;return m.createElement(m.Fragment,null,m.createElement("div",{className:B()("".concat(k,"-content"),P),style:(0,Y.Z)({},$),"aria-modal":"true",role:"dialog",ref:X},ee))},_=N,I=m.createContext(null),V=I,K=v(15105),J=v(80334);function ce(f){return typeof f=="string"&&String(Number(f))===f?((0,J.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(f)):f}function q(f){warning(!("wrapperClassName"in f),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!f.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var h={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function x(f,g){var k,P,$,ee,X=f.prefixCls,ue=f.open,he=f.placement,we=f.inline,be=f.push,Le=f.forceRender,ke=f.autoFocus,Se=f.keyboard,ve=f.rootClassName,Ie=f.rootStyle,xe=f.zIndex,de=f.className,te=f.style,Re=f.motion,fe=f.width,De=f.height,Oe=f.children,Pe=f.contentWrapperStyle,pe=f.mask,Ce=f.maskClosable,Te=f.maskMotion,Ne=f.maskClassName,Ae=f.maskStyle,Ee=f.afterOpenChange,p=f.onClose,e=m.useRef(),r=m.useRef(),i=m.useRef();m.useImperativeHandle(g,function(){return e.current});var o=function(re){var Be=re.keyCode,ye=re.shiftKey;switch(Be){case K.Z.TAB:{if(Be===K.Z.TAB){if(!ye&&document.activeElement===i.current){var Me;(Me=r.current)===null||Me===void 0||Me.focus({preventScroll:!0})}else if(ye&&document.activeElement===r.current){var Ue;(Ue=i.current)===null||Ue===void 0||Ue.focus({preventScroll:!0})}}break}case K.Z.ESC:{p&&Se&&(re.stopPropagation(),p(re));break}}};m.useEffect(function(){if(ue&&ke){var Q;(Q=e.current)===null||Q===void 0||Q.focus({preventScroll:!0})}},[ue]);var a=m.useState(!1),d=(0,y.Z)(a,2),L=d[0],T=d[1],S=m.useContext(V),z;be===!1?z={distance:0}:be===!0?z={}:z=be||{};var H=(k=(P=($=z)===null||$===void 0?void 0:$.distance)!==null&&P!==void 0?P:S==null?void 0:S.pushDistance)!==null&&k!==void 0?k:180,Z=m.useMemo(function(){return{pushDistance:H,push:function(){T(!0)},pull:function(){T(!1)}}},[H]);m.useEffect(function(){if(ue){var Q;S==null||(Q=S.push)===null||Q===void 0||Q.call(S)}else{var re;S==null||(re=S.pull)===null||re===void 0||re.call(S)}},[ue]),m.useEffect(function(){return function(){var Q;S==null||(Q=S.pull)===null||Q===void 0||Q.call(S)}},[]);var ae=pe&&m.createElement(A.Z,(0,W.Z)({key:"mask"},Te,{visible:ue}),function(Q,re){var Be=Q.className,ye=Q.style;return m.createElement("div",{className:B()("".concat(X,"-mask"),Be,Ne),style:(0,Y.Z)((0,Y.Z)({},ye),Ae),onClick:Ce&&ue?p:void 0,ref:re})}),oe=typeof Re=="function"?Re(he):Re,ie={};if(L&&H)switch(he){case"top":ie.transform="translateY(".concat(H,"px)");break;case"bottom":ie.transform="translateY(".concat(-H,"px)");break;case"left":ie.transform="translateX(".concat(H,"px)");break;default:ie.transform="translateX(".concat(-H,"px)");break}he==="left"||he==="right"?ie.width=ce(fe):ie.height=ce(De);var ge=m.createElement(A.Z,(0,W.Z)({key:"panel"},oe,{visible:ue,forceRender:Le,onVisibleChanged:function(re){Ee==null||Ee(re)},removeOnLeave:!1,leavedClassName:"".concat(X,"-content-wrapper-hidden")}),function(Q,re){var Be=Q.className,ye=Q.style;return m.createElement("div",{className:B()("".concat(X,"-content-wrapper"),Be),style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},ie),ye),Pe)},m.createElement(_,{containerRef:re,prefixCls:X,className:de,style:te},Oe))}),me=(0,Y.Z)({},Ie);return xe&&(me.zIndex=xe),m.createElement(V.Provider,{value:Z},m.createElement("div",{className:B()(X,"".concat(X,"-").concat(he),ve,(ee={},(0,j.Z)(ee,"".concat(X,"-open"),ue),(0,j.Z)(ee,"".concat(X,"-inline"),we),ee)),style:me,tabIndex:-1,ref:e,onKeyDown:o},ae,m.createElement("div",{tabIndex:0,ref:r,style:h,"aria-hidden":"true","data-sentinel":"start"}),ge,m.createElement("div",{tabIndex:0,ref:i,style:h,"aria-hidden":"true","data-sentinel":"end"})))}var R=m.forwardRef(x),b=R,D=function(g){var k=g.open,P=k===void 0?!1:k,$=g.prefixCls,ee=$===void 0?"rc-drawer":$,X=g.placement,ue=X===void 0?"right":X,he=g.autoFocus,we=he===void 0?!0:he,be=g.keyboard,Le=be===void 0?!0:be,ke=g.width,Se=ke===void 0?378:ke,ve=g.mask,Ie=ve===void 0?!0:ve,xe=g.maskClosable,de=xe===void 0?!0:xe,te=g.getContainer,Re=g.forceRender,fe=g.afterOpenChange,De=g.destroyOnClose,Oe=m.useState(!1),Pe=(0,y.Z)(Oe,2),pe=Pe[0],Ce=Pe[1],Te=m.useState(!1),Ne=(0,y.Z)(Te,2),Ae=Ne[0],Ee=Ne[1];(0,G.Z)(function(){Ee(!0)},[]);var p=Ae?P:!1,e=m.useRef(),r=m.useRef();(0,G.Z)(function(){p&&(r.current=document.activeElement)},[p]);var i=function(d){var L;if(Ce(d),fe==null||fe(d),!d&&r.current&&!(!((L=e.current)===null||L===void 0)&&L.contains(r.current))){var T;(T=r.current)===null||T===void 0||T.focus()}};if(!Re&&!pe&&!p&&De)return null;var o=(0,Y.Z)((0,Y.Z)({},g),{},{open:p,prefixCls:ee,placement:ue,autoFocus:we,keyboard:Le,width:Se,mask:Ie,maskClosable:de,inline:te===!1,afterOpenChange:i,ref:e});return m.createElement(O.Z,{open:p||Re||pe,autoDestroy:!1,getContainer:te,autoLock:Ie&&(p||pe)},m.createElement(b,o))},U=D,F=U,ne=v(53124),C=v(65223),M=v(33603),w=v(93355),t=v(4173),s=function(f,g){var k={};for(var P in f)Object.prototype.hasOwnProperty.call(f,P)&&g.indexOf(P)<0&&(k[P]=f[P]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,P=Object.getOwnPropertySymbols(f);$<P.length;$++)g.indexOf(P[$])<0&&Object.prototype.propertyIsEnumerable.call(f,P[$])&&(k[P[$]]=f[P[$]]);return k},n=(0,w.b)("default","large"),l={distance:180};function u(f){var g=f.width,k=f.height,P=f.size,$=P===void 0?"default":P,ee=f.closable,X=ee===void 0?!0:ee,ue=f.mask,he=ue===void 0?!0:ue,we=f.push,be=we===void 0?l:we,Le=f.closeIcon,ke=Le===void 0?m.createElement(se.Z,null):Le,Se=f.bodyStyle,ve=f.drawerStyle,Ie=f.className,xe=f.visible,de=f.open,te=f.children,Re=f.style,fe=f.title,De=f.headerStyle,Oe=f.onClose,Pe=f.footer,pe=f.footerStyle,Ce=f.prefixCls,Te=f.getContainer,Ne=f.extra,Ae=f.afterVisibleChange,Ee=f.afterOpenChange,p=s(f,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),e=m.useContext(ne.E_),r=e.getPopupContainer,i=e.getPrefixCls,o=e.direction,a=i("drawer",Ce),d=Te===void 0&&r?function(){return r(document.body)}:Te,L=X&&m.createElement("button",{type:"button",onClick:Oe,"aria-label":"Close",className:"".concat(a,"-close")},ke);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach(function(ie){var ge=(0,y.Z)(ie,2),me=ge[0],Q=ge[1]});function T(){return!fe&&!X?null:m.createElement("div",{className:B()("".concat(a,"-header"),(0,j.Z)({},"".concat(a,"-header-close-only"),X&&!fe&&!Ne)),style:De},m.createElement("div",{className:"".concat(a,"-header-title")},L,fe&&m.createElement("div",{className:"".concat(a,"-title")},fe)),Ne&&m.createElement("div",{className:"".concat(a,"-extra")},Ne))}function S(){if(!Pe)return null;var ie="".concat(a,"-footer");return m.createElement("div",{className:ie,style:pe},Pe)}var z=B()((0,j.Z)({"no-mask":!he},"".concat(a,"-rtl"),o==="rtl"),Ie),H=m.useMemo(function(){return g??($==="large"?736:378)},[g,$]),Z=m.useMemo(function(){return k??($==="large"?736:378)},[k,$]),ae={motionName:(0,M.mL)(a,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},oe=function(ge){return{motionName:(0,M.mL)(a,"panel-motion-".concat(ge)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}};return m.createElement(t.BR,null,m.createElement(C.Ux,{status:!0,override:!0},m.createElement(F,(0,W.Z)({prefixCls:a,onClose:Oe},p,{open:de??xe,mask:he,push:be,width:H,height:Z,rootClassName:z,getContainer:d,afterOpenChange:function(ge){Ee==null||Ee(ge),Ae==null||Ae(ge)},maskMotion:ae,motion:oe,rootStyle:Re}),m.createElement("div",{className:"".concat(a,"-wrapper-body"),style:(0,W.Z)({},ve)},T(),m.createElement("div",{className:"".concat(a,"-body"),style:Se},te),S()))))}var c=u}}]);
